{
  "address": "0x594a9B4F024D7E5D119C53af3283593dc031b6b4",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract ICartesiDAppFactory",
          "name": "_factory",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "chainid",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "dapp",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "until",
          "type": "uint256"
        }
      ],
      "name": "FinancialRunway",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "chainid",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "dapp",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "location",
          "type": "string"
        }
      ],
      "name": "MachineLocation",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "previousAdminRole",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "newAdminRole",
          "type": "bytes32"
        }
      ],
      "name": "RoleAdminChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "RoleGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "RoleRevoked",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "CONTROLLER_ROLE",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "DEFAULT_ADMIN_ROLE",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        }
      ],
      "name": "getRoleAdmin",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "grantRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "hasRole",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IConsensus",
          "name": "_consensus",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_dappOwner",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "_templateHash",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "_cid",
          "type": "string"
        }
      ],
      "name": "newApplication",
      "outputs": [
        {
          "internalType": "contract CartesiDApp",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "renounceRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "role",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "revokeRole",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_dapp",
          "type": "address"
        }
      ],
      "name": "start",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_dapp",
          "type": "address"
        }
      ],
      "name": "stop",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes4",
          "name": "interfaceId",
          "type": "bytes4"
        }
      ],
      "name": "supportsInterface",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x8ec3c1041dca57e4cdf963a9871b6d74f117eea5dd1d5d0a82bae52af4ffe673",
  "receipt": {
    "to": "0x914d7Fec6aaC8cd542e72Bca78B30650d45643d7",
    "from": "0xd8464d1B3592b6c3786B32931E2a2AdAC501Aaad",
    "contractAddress": null,
    "transactionIndex": 76,
    "gasUsed": "1263527",
    "logsBloom": "0x00000404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000001000000000000000000000000000000000000000000000002000000000000000001000000000000001000002000000000000000000000000000000000000000100000000000000000000004000000000000000000400000000000000000000000000000000000000",
    "blockHash": "0x574960498e886c7dccdeb9a9eaa0f9adf4ecf9ca5a13af6d6a135884ae1330a1",
    "transactionHash": "0x8ec3c1041dca57e4cdf963a9871b6d74f117eea5dd1d5d0a82bae52af4ffe673",
    "logs": [
      {
        "transactionIndex": 76,
        "blockNumber": 3976541,
        "transactionHash": "0x8ec3c1041dca57e4cdf963a9871b6d74f117eea5dd1d5d0a82bae52af4ffe673",
        "address": "0x594a9B4F024D7E5D119C53af3283593dc031b6b4",
        "topics": [
          "0x2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d",
          "0x7b765e0e932d348852a6f810bfa1ab891e259123f02db8cdcde614c570223357",
          "0x000000000000000000000000914d7fec6aac8cd542e72bca78b30650d45643d7",
          "0x000000000000000000000000914d7fec6aac8cd542e72bca78b30650d45643d7"
        ],
        "data": "0x",
        "logIndex": 2062,
        "blockHash": "0x574960498e886c7dccdeb9a9eaa0f9adf4ecf9ca5a13af6d6a135884ae1330a1"
      }
    ],
    "blockNumber": 3976541,
    "cumulativeGasUsed": "12689188",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x7122cd1221C20892234186facfE8615e6743Ab02"
  ],
  "numDeployments": 1,
  "solcInputHash": "10837a4c101a5daacb5f95564f85b717",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"contract ICartesiDAppFactory\",\"name\":\"_factory\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"chainid\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"dapp\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"until\",\"type\":\"uint256\"}],\"name\":\"FinancialRunway\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"chainid\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"dapp\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"location\",\"type\":\"string\"}],\"name\":\"MachineLocation\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"previousAdminRole\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"newAdminRole\",\"type\":\"bytes32\"}],\"name\":\"RoleAdminChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleGranted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sender\",\"type\":\"address\"}],\"name\":\"RoleRevoked\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"CONTROLLER_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"DEFAULT_ADMIN_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"}],\"name\":\"getRoleAdmin\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"grantRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"hasRole\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IConsensus\",\"name\":\"_consensus\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_dappOwner\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"_templateHash\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"_cid\",\"type\":\"string\"}],\"name\":\"newApplication\",\"outputs\":[{\"internalType\":\"contract CartesiDApp\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"renounceRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"role\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"revokeRole\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_dapp\",\"type\":\"address\"}],\"name\":\"start\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_dapp\",\"type\":\"address\"}],\"name\":\"stop\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"This can be used for test scenarios, where you can manuall start and stop the validator by sending a transaction.\",\"events\":{\"FinancialRunway(uint256,address,uint256)\":{\"details\":\"This event signals until when the validator node for the dapp should be running. The offchain implementation which controls the execution of validator nodes is free to choose which implementation contracts they will rely on for this information. The dapp can be deployed on a different network than the one this event is emitted on.\",\"params\":{\"chainid\":\"The chainid of the network the dapp is deployed\",\"dapp\":\"The dapp address\",\"until\":\"The point in time when the dapp will run out of funds (seconds since epoch)\"}},\"MachineLocation(uint256,address,string)\":{\"details\":\"This event signals the association of an onchain deployed Cartesi DApp to the offchain location of the snapshot of the Cartesi machine corresponding to the template hash stored onchain. The format or protocol of the location field is not enforced onchain and can follow any format, like a URL or an IPFS CID. The dapp can be deployed on a different network than the one this event is emitted on.\",\"params\":{\"chainid\":\"The chainid of the network the dapp is deployed\",\"dapp\":\"The dapp address\",\"location\":\"The storage location of the cartesi machine snapshot\"}},\"RoleAdminChanged(bytes32,bytes32,bytes32)\":{\"details\":\"Emitted when `newAdminRole` is set as ``role``'s admin role, replacing `previousAdminRole` `DEFAULT_ADMIN_ROLE` is the starting admin for all roles, despite {RoleAdminChanged} not being emitted signaling this. _Available since v3.1._\"},\"RoleGranted(bytes32,address,address)\":{\"details\":\"Emitted when `account` is granted `role`. `sender` is the account that originated the contract call, an admin role bearer except when using {AccessControl-_setupRole}.\"},\"RoleRevoked(bytes32,address,address)\":{\"details\":\"Emitted when `account` is revoked `role`. `sender` is the account that originated the contract call:   - if using `revokeRole`, it is the admin role bearer   - if using `renounceRole`, it is the role bearer (i.e. `account`)\"}},\"kind\":\"dev\",\"methods\":{\"getRoleAdmin(bytes32)\":{\"details\":\"Returns the admin role that controls `role`. See {grantRole} and {revokeRole}. To change a role's admin, use {_setRoleAdmin}.\"},\"grantRole(bytes32,address)\":{\"details\":\"Grants `role` to `account`. If `account` had not been already granted `role`, emits a {RoleGranted} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleGranted} event.\"},\"hasRole(bytes32,address)\":{\"details\":\"Returns `true` if `account` has been granted `role`.\"},\"newApplication(address,address,bytes32,string)\":{\"details\":\"This function delegates the construction of the dapp to a ICartesiDAppFactory, and emits an event with the IPFS CID of the snapshot of the corresponding machine. There is no validation onchain that the machine stored at IPFS matches the specified templateHash. This information will only be verified offchain when the dapp node start executing\",\"params\":{\"_cid\":\"The IPFS CID of the cartesi machine snapshot\",\"_consensus\":\"The consensus to which the DApp should be subscribed\",\"_dappOwner\":\"The address that should own the DApp\",\"_templateHash\":\"The hash of the initial state of the Cartesi Machine\"},\"returns\":{\"_0\":\"The application\"}},\"renounceRole(bytes32,address)\":{\"details\":\"Revokes `role` from the calling account. Roles are often managed via {grantRole} and {revokeRole}: this function's purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced). If the calling account had been revoked `role`, emits a {RoleRevoked} event. Requirements: - the caller must be `account`. May emit a {RoleRevoked} event.\"},\"revokeRole(bytes32,address)\":{\"details\":\"Revokes `role` from `account`. If `account` had been granted `role`, emits a {RoleRevoked} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleRevoked} event.\"},\"supportsInterface(bytes4)\":{\"details\":\"See {IERC165-supportsInterface}.\"}},\"version\":1},\"userdoc\":{\"events\":{\"FinancialRunway(uint256,address,uint256)\":{\"notice\":\"Signals until when a dapp has enough funds to be validated\"},\"MachineLocation(uint256,address,string)\":{\"notice\":\"Signals the association of a dapp to its offchain Cartesi Machine\"}},\"kind\":\"user\",\"methods\":{\"CONTROLLER_ROLE()\":{\"notice\":\"Create a new role identifier for the controller role, they can start/stop dapps\"},\"newApplication(address,address,bytes32,string)\":{\"notice\":\"Instantiate a new dapp, including the IPFS CID information for the cartesi machine snapshot\"}},\"notice\":\"This dapp factory implements the IFinancialProtocol with total control over the execution of the validator.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/deploy/ControlledDAppFactory.sol\":\"ControlledDAppFactory\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"@cartesi/rollups/contracts/common/CanonicalMachine.sol\":{\"content\":\"// (c) Cartesi and individual authors (see AUTHORS)\\n// SPDX-License-Identifier: Apache-2.0 (see LICENSE)\\n\\npragma solidity ^0.8.8;\\n\\n/// @title Canonical Machine Constants Library\\n///\\n/// @notice Defines several constants related to the reference implementation\\n/// of the RISC-V machine that runs Linux, also known as the \\\"Cartesi Machine\\\".\\nlibrary CanonicalMachine {\\n    /// @notice Base-2 logarithm of number of bytes.\\n    type Log2Size is uint64;\\n\\n    /// @notice Machine word size (8 bytes).\\n    Log2Size constant WORD_LOG2_SIZE = Log2Size.wrap(3);\\n\\n    /// @notice Machine address space size (2^64 bytes).\\n    Log2Size constant MACHINE_LOG2_SIZE = Log2Size.wrap(64);\\n\\n    /// @notice Keccak-256 output size (32 bytes).\\n    Log2Size constant KECCAK_LOG2_SIZE = Log2Size.wrap(5);\\n\\n    /// @notice Maximum input size (~2 megabytes).\\n    /// @dev The offset and size fields use up the extra 64 bytes.\\n    uint256 constant INPUT_MAX_SIZE = (1 << 21) - 64;\\n\\n    /// @notice Maximum voucher metadata memory range (2 megabytes).\\n    Log2Size constant VOUCHER_METADATA_LOG2_SIZE = Log2Size.wrap(21);\\n\\n    /// @notice Maximum notice metadata memory range (2 megabytes).\\n    Log2Size constant NOTICE_METADATA_LOG2_SIZE = Log2Size.wrap(21);\\n\\n    /// @notice Maximum epoch voucher memory range (128 megabytes).\\n    Log2Size constant EPOCH_VOUCHER_LOG2_SIZE = Log2Size.wrap(37);\\n\\n    /// @notice Maximum epoch notice memory range (128 megabytes).\\n    Log2Size constant EPOCH_NOTICE_LOG2_SIZE = Log2Size.wrap(37);\\n\\n    /// @notice Unwrap `s` into its underlying uint64 value.\\n    /// @param s Base-2 logarithm of some number of bytes\\n    function uint64OfSize(Log2Size s) internal pure returns (uint64) {\\n        return Log2Size.unwrap(s);\\n    }\\n\\n    /// @notice Return the position of an intra memory range on a memory range\\n    ///         with contents with the same size.\\n    /// @param index Index of intra memory range\\n    /// @param log2Size Base-2 logarithm of intra memory range size\\n    function getIntraMemoryRangePosition(\\n        uint64 index,\\n        Log2Size log2Size\\n    ) internal pure returns (uint64) {\\n        return index << Log2Size.unwrap(log2Size);\\n    }\\n}\\n\",\"keccak256\":\"0x97cdce56cdb4f0b4164e6be3a72e50469a3124e4716e753a1792aa70eac614f5\",\"license\":\"Apache-2.0 (see LICENSE)\"},\"@cartesi/rollups/contracts/common/OutputEncoding.sol\":{\"content\":\"// (c) Cartesi and individual authors (see AUTHORS)\\n// SPDX-License-Identifier: Apache-2.0 (see LICENSE)\\n\\npragma solidity ^0.8.8;\\n\\n/// @title Output Encoding Library\\n///\\n/// @notice Defines the encoding of outputs generated by the off-chain machine.\\nlibrary OutputEncoding {\\n    /// @notice Encode a notice.\\n    /// @param notice The notice\\n    /// @return The encoded output\\n    function encodeNotice(\\n        bytes calldata notice\\n    ) internal pure returns (bytes memory) {\\n        return abi.encode(notice);\\n    }\\n\\n    /// @notice Encode a voucher.\\n    /// @param destination The address that will receive the payload through a message call\\n    /// @param payload The payload, which\\u2014in the case of Solidity contracts\\u2014encodes a function call\\n    /// @return The encoded output\\n    function encodeVoucher(\\n        address destination,\\n        bytes calldata payload\\n    ) internal pure returns (bytes memory) {\\n        return abi.encode(destination, payload);\\n    }\\n}\\n\",\"keccak256\":\"0xfbf8bd40a11aeb380c77910ef7a8c3a4b358dddbd8bc795529de39c955dd6f60\",\"license\":\"Apache-2.0 (see LICENSE)\"},\"@cartesi/rollups/contracts/consensus/IConsensus.sol\":{\"content\":\"// (c) Cartesi and individual authors (see AUTHORS)\\n// SPDX-License-Identifier: Apache-2.0 (see LICENSE)\\n\\npragma solidity ^0.8.8;\\n\\n/// @title Consensus interface\\n///\\n/// @notice This contract defines a generic interface for consensuses.\\n/// We use the word \\\"consensus\\\" to designate a contract that provides claims\\n/// in the base layer regarding the state of off-chain machines running in\\n/// the execution layer. How this contract is able to reach consensus, who is\\n/// able to submit claims, and how are claims stored in the base layer are\\n/// some of the implementation details left unspecified by this interface.\\n///\\n/// From the point of view of a DApp, these claims are necessary to validate\\n/// on-chain action allowed by the off-chain machine in the form of vouchers\\n/// and notices. Each claim is composed of three parts: an epoch hash, a first\\n/// index, and a last index. We'll explain each of these parts below.\\n///\\n/// First, let us define the word \\\"epoch\\\". For finality reasons, we need to\\n/// divide the stream of inputs being fed into the off-chain machine into\\n/// batches of inputs, which we call \\\"epoches\\\". At the end of every epoch,\\n/// we summarize the state of the off-chain machine in a single hash, called\\n/// \\\"epoch hash\\\". Please note that this interface does not define how this\\n/// stream of inputs is being chopped up into epoches.\\n///\\n/// The other two parts are simply the indices of the first and last inputs\\n/// accepted during the epoch. Logically, the first index MUST BE less than\\n/// or equal to the last index. As a result, every epoch MUST accept at least\\n/// one input. This assumption stems from the fact that the state of a machine\\n/// can only change after an input is fed into it.\\n///\\n/// Examples of possible implementations of this interface include:\\n///\\n/// * An authority consensus, controlled by a single address who has full\\n///   control over epoch boundaries, claim submission, asset management, etc.\\n///\\n/// * A quorum consensus, controlled by a limited set of validators, that\\n///   vote on the state of the machine at the end of every epoch. Also, epoch\\n///   boundaries are determined by the timestamp in the base layer, and assets\\n///   are split equally amongst the validators.\\n///\\n/// * An NxN consensus, which allows anyone to submit and dispute claims\\n///   in the base layer. Epoch boundaries are determined in the same fashion\\n///   as in the quorum example.\\n///\\ninterface IConsensus {\\n    /// @notice An application has joined the consensus' validation set.\\n    /// @param application The application\\n    /// @dev MUST be triggered on a successful call to `join`.\\n    event ApplicationJoined(address application);\\n\\n    /// @notice Get a specific claim regarding a specific DApp.\\n    ///         The encoding of `_proofContext` might vary\\n    ///         depending on the implementation.\\n    /// @param _dapp The DApp address\\n    /// @param _proofContext Data for retrieving the desired claim\\n    /// @return epochHash_ The claimed epoch hash\\n    /// @return firstInputIndex_ The index of the first input of the epoch in the input box\\n    /// @return lastInputIndex_ The index of the last input of the epoch in the input box\\n    function getClaim(\\n        address _dapp,\\n        bytes calldata _proofContext\\n    )\\n        external\\n        view\\n        returns (\\n            bytes32 epochHash_,\\n            uint256 firstInputIndex_,\\n            uint256 lastInputIndex_\\n        );\\n\\n    /// @notice Signal the consensus that the message sender wants to join its validation set.\\n    /// @dev MUST fire an `ApplicationJoined` event with the message sender as argument.\\n    function join() external;\\n}\\n\",\"keccak256\":\"0xc9d295fada66eb0602e0f1e2e236708e52f959927abb4ab6b04173a98b92ac16\",\"license\":\"Apache-2.0 (see LICENSE)\"},\"@cartesi/rollups/contracts/dapp/CartesiDApp.sol\":{\"content\":\"// (c) Cartesi and individual authors (see AUTHORS)\\n// SPDX-License-Identifier: Apache-2.0 (see LICENSE)\\n\\npragma solidity ^0.8.8;\\n\\nimport {ICartesiDApp, Proof} from \\\"./ICartesiDApp.sol\\\";\\nimport {IConsensus} from \\\"../consensus/IConsensus.sol\\\";\\nimport {LibOutputValidation, OutputValidityProof} from \\\"../library/LibOutputValidation.sol\\\";\\nimport {Bitmask} from \\\"@cartesi/util/contracts/Bitmask.sol\\\";\\n\\nimport {Ownable} from \\\"@openzeppelin/contracts/access/Ownable.sol\\\";\\nimport {ERC721Holder} from \\\"@openzeppelin/contracts/token/ERC721/utils/ERC721Holder.sol\\\";\\nimport {ERC1155Holder} from \\\"@openzeppelin/contracts/token/ERC1155/utils/ERC1155Holder.sol\\\";\\nimport {ReentrancyGuard} from \\\"@openzeppelin/contracts/security/ReentrancyGuard.sol\\\";\\n\\n/// @title Cartesi DApp\\n///\\n/// @notice This contract acts as the base layer incarnation of a DApp running on the execution layer.\\n/// The DApp is hereby able to interact with other smart contracts through the execution of vouchers\\n/// and the validation of notices. These outputs are generated by the DApp backend on the execution\\n/// layer and can be proven in the base layer thanks to claims submitted by a consensus contract.\\n///\\n/// A voucher is a one-time message call to another contract. It can encode asset transfers, approvals,\\n/// or any other message call that doesn't require Ether to be sent along. A voucher will only be consumed\\n/// if the underlying message call succeeds (that is, it doesn't revert). Furthermore, the return data of\\n/// the message call is discarded entirely. As a protective measure against reentrancy attacks, nested\\n/// voucher executions are prohibited.\\n///\\n/// A notice, on the other hand, constitutes an arbitrary piece of data that can be proven any number of times.\\n/// On their own, they do not trigger any type of contract-to-contract interaction.\\n/// Rather, they merely serve to attest off-chain results, e.g. which player won a particular chess match.\\n///\\n/// Every DApp is subscribed to a consensus contract, and governed by a single address, the owner.\\n/// The consensus has the power of submitting claims, which, in turn, are used to validate vouchers and notices.\\n/// Meanwhile, the owner has complete power over the DApp, as it can replace the consensus at any time.\\n/// Therefore, the users of a DApp must trust both the consensus and the DApp owner.\\n///\\n/// The DApp developer can choose whichever ownership and consensus models it wants.\\n///\\n/// Examples of DApp ownership models include:\\n///\\n/// * no owner (address zero)\\n/// * individual signer (externally-owned account)\\n/// * multiple signers (multi-sig)\\n/// * DAO (decentralized autonomous organization)\\n/// * self-owned DApp (off-chain governance logic)\\n///\\n/// See `IConsensus` for examples of consensus models.\\n///\\n/// This contract inherits the following OpenZeppelin contracts.\\n/// For more information, please consult OpenZeppelin's official documentation.\\n///\\n/// * `Ownable`\\n/// * `ERC721Holder`\\n/// * `ERC1155Holder`\\n/// * `ReentrancyGuard`\\n///\\ncontract CartesiDApp is\\n    ICartesiDApp,\\n    Ownable,\\n    ERC721Holder,\\n    ERC1155Holder,\\n    ReentrancyGuard\\n{\\n    using Bitmask for mapping(uint256 => uint256);\\n    using LibOutputValidation for OutputValidityProof;\\n\\n    /// @notice Raised when executing an already executed voucher.\\n    error VoucherReexecutionNotAllowed();\\n\\n    /// @notice Raised when the transfer fails.\\n    error EtherTransferFailed();\\n\\n    /// @notice Raised when a mehtod is not called by DApp itself.\\n    error OnlyDApp();\\n\\n    /// @notice The initial machine state hash.\\n    /// @dev See the `getTemplateHash` function.\\n    bytes32 internal immutable templateHash;\\n\\n    /// @notice The executed voucher bitmask, which keeps track of which vouchers\\n    ///         were executed already in order to avoid re-execution.\\n    /// @dev See the `wasVoucherExecuted` function.\\n    mapping(uint256 => uint256) internal voucherBitmask;\\n\\n    /// @notice The current consensus contract.\\n    /// @dev See the `getConsensus` and `migrateToConsensus` functions.\\n    IConsensus internal consensus;\\n\\n    /// @notice Creates a `CartesiDApp` contract.\\n    /// @param _consensus The initial consensus contract\\n    /// @param _owner The initial DApp owner\\n    /// @param _templateHash The initial machine state hash\\n    /// @dev Calls the `join` function on `_consensus`.\\n    constructor(IConsensus _consensus, address _owner, bytes32 _templateHash) {\\n        transferOwnership(_owner);\\n        templateHash = _templateHash;\\n        consensus = _consensus;\\n\\n        _consensus.join();\\n    }\\n\\n    function executeVoucher(\\n        address _destination,\\n        bytes calldata _payload,\\n        Proof calldata _proof\\n    ) external override nonReentrant returns (bool) {\\n        bytes32 epochHash;\\n        uint256 firstInputIndex;\\n        uint256 lastInputIndex;\\n        uint256 inputIndex;\\n\\n        // query the current consensus for the desired claim\\n        (epochHash, firstInputIndex, lastInputIndex) = getClaim(_proof.context);\\n\\n        // validate input index range and calculate the input index\\n        // based on the input index range provided by the consensus\\n        inputIndex = _proof.validity.validateInputIndexRange(\\n            firstInputIndex,\\n            lastInputIndex\\n        );\\n\\n        // reverts if proof isn't valid\\n        _proof.validity.validateVoucher(_destination, _payload, epochHash);\\n\\n        uint256 voucherPosition = LibOutputValidation.getBitMaskPosition(\\n            _proof.validity.outputIndexWithinInput,\\n            inputIndex\\n        );\\n\\n        // check if voucher has been executed\\n        if (_wasVoucherExecuted(voucherPosition)) {\\n            revert VoucherReexecutionNotAllowed();\\n        }\\n\\n        // execute voucher\\n        (bool succ, ) = _destination.call(_payload);\\n\\n        // if properly executed, mark it as executed and emit event\\n        if (succ) {\\n            voucherBitmask.setBit(voucherPosition, true);\\n            emit VoucherExecuted(voucherPosition);\\n        }\\n\\n        return succ;\\n    }\\n\\n    function wasVoucherExecuted(\\n        uint256 _inputIndex,\\n        uint256 _outputIndexWithinInput\\n    ) external view override returns (bool) {\\n        uint256 voucherPosition = LibOutputValidation.getBitMaskPosition(\\n            _outputIndexWithinInput,\\n            _inputIndex\\n        );\\n        return _wasVoucherExecuted(voucherPosition);\\n    }\\n\\n    function _wasVoucherExecuted(\\n        uint256 _voucherPosition\\n    ) internal view returns (bool) {\\n        return voucherBitmask.getBit(_voucherPosition);\\n    }\\n\\n    function validateNotice(\\n        bytes calldata _notice,\\n        Proof calldata _proof\\n    ) external view override returns (bool) {\\n        bytes32 epochHash;\\n        uint256 firstInputIndex;\\n        uint256 lastInputIndex;\\n\\n        // query the current consensus for the desired claim\\n        (epochHash, firstInputIndex, lastInputIndex) = getClaim(_proof.context);\\n\\n        // validate the epoch input index based on the input index range\\n        // provided by the consensus\\n        _proof.validity.validateInputIndexRange(\\n            firstInputIndex,\\n            lastInputIndex\\n        );\\n\\n        // reverts if proof isn't valid\\n        _proof.validity.validateNotice(_notice, epochHash);\\n\\n        return true;\\n    }\\n\\n    /// @notice Retrieve a claim about the DApp from the current consensus.\\n    ///         The encoding of `_proofContext` might vary depending on the implementation.\\n    /// @param _proofContext Data for retrieving the desired claim\\n    /// @return The claimed epoch hash\\n    /// @return The index of the first input of the epoch in the input box\\n    /// @return The index of the last input of the epoch in the input box\\n    function getClaim(\\n        bytes calldata _proofContext\\n    ) internal view returns (bytes32, uint256, uint256) {\\n        return consensus.getClaim(address(this), _proofContext);\\n    }\\n\\n    function migrateToConsensus(\\n        IConsensus _newConsensus\\n    ) external override onlyOwner {\\n        consensus = _newConsensus;\\n\\n        _newConsensus.join();\\n\\n        emit NewConsensus(_newConsensus);\\n    }\\n\\n    function getTemplateHash() external view override returns (bytes32) {\\n        return templateHash;\\n    }\\n\\n    function getConsensus() external view override returns (IConsensus) {\\n        return consensus;\\n    }\\n\\n    /// @notice Accept Ether transfers.\\n    /// @dev If you wish to transfer Ether to a DApp while informing\\n    ///      the DApp backend of it, then please do so through the Ether portal contract.\\n    receive() external payable {}\\n\\n    /// @notice Transfer some amount of Ether to some recipient.\\n    /// @param _receiver The address which will receive the amount of Ether\\n    /// @param _value The amount of Ether to be transferred in Wei\\n    /// @dev This function can only be called by the DApp itself through vouchers.\\n    ///      If this method is not called by DApp itself, `OnlyDApp` error is raised.\\n    ///      If the transfer fails, `EtherTransferFailed` error is raised.\\n    function withdrawEther(address _receiver, uint256 _value) external {\\n        if (msg.sender != address(this)) {\\n            revert OnlyDApp();\\n        }\\n\\n        (bool sent, ) = _receiver.call{value: _value}(\\\"\\\");\\n\\n        if (!sent) {\\n            revert EtherTransferFailed();\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xe54766db1afcbb9578fffc1a87927d95673f1a630d88a7889941878a89761128\",\"license\":\"Apache-2.0 (see LICENSE)\"},\"@cartesi/rollups/contracts/dapp/CartesiDAppFactory.sol\":{\"content\":\"// (c) Cartesi and individual authors (see AUTHORS)\\n// SPDX-License-Identifier: Apache-2.0 (see LICENSE)\\n\\npragma solidity ^0.8.8;\\n\\nimport {Create2} from \\\"@openzeppelin/contracts/utils/Create2.sol\\\";\\n\\nimport {ICartesiDAppFactory} from \\\"./ICartesiDAppFactory.sol\\\";\\nimport {IConsensus} from \\\"../consensus/IConsensus.sol\\\";\\nimport {CartesiDApp} from \\\"./CartesiDApp.sol\\\";\\n\\n/// @title Cartesi DApp Factory\\n/// @notice Allows anyone to reliably deploy a new `CartesiDApp` contract.\\ncontract CartesiDAppFactory is ICartesiDAppFactory {\\n    function newApplication(\\n        IConsensus _consensus,\\n        address _dappOwner,\\n        bytes32 _templateHash\\n    ) external override returns (CartesiDApp) {\\n        CartesiDApp application = new CartesiDApp(\\n            _consensus,\\n            _dappOwner,\\n            _templateHash\\n        );\\n\\n        emit ApplicationCreated(\\n            _consensus,\\n            _dappOwner,\\n            _templateHash,\\n            application\\n        );\\n\\n        return application;\\n    }\\n\\n    function newApplication(\\n        IConsensus _consensus,\\n        address _dappOwner,\\n        bytes32 _templateHash,\\n        bytes32 _salt\\n    ) external override returns (CartesiDApp) {\\n        CartesiDApp application = new CartesiDApp{salt: _salt}(\\n            _consensus,\\n            _dappOwner,\\n            _templateHash\\n        );\\n\\n        emit ApplicationCreated(\\n            _consensus,\\n            _dappOwner,\\n            _templateHash,\\n            application\\n        );\\n\\n        return application;\\n    }\\n\\n    function calculateApplicationAddress(\\n        IConsensus _consensus,\\n        address _dappOwner,\\n        bytes32 _templateHash,\\n        bytes32 _salt\\n    ) external view override returns (address) {\\n        return\\n            Create2.computeAddress(\\n                _salt,\\n                keccak256(\\n                    abi.encodePacked(\\n                        type(CartesiDApp).creationCode,\\n                        abi.encode(_consensus, _dappOwner, _templateHash)\\n                    )\\n                )\\n            );\\n    }\\n}\\n\",\"keccak256\":\"0xd5f93d28a69df7dc63205026dc5a1865ee989a683f3e648812ded6cefb35f10d\",\"license\":\"Apache-2.0 (see LICENSE)\"},\"@cartesi/rollups/contracts/dapp/ICartesiDApp.sol\":{\"content\":\"// (c) Cartesi and individual authors (see AUTHORS)\\n// SPDX-License-Identifier: Apache-2.0 (see LICENSE)\\n\\npragma solidity ^0.8.8;\\n\\nimport {IConsensus} from \\\"../consensus/IConsensus.sol\\\";\\nimport {OutputValidityProof} from \\\"../library/LibOutputValidation.sol\\\";\\n\\n/// @notice Data for validating outputs.\\n/// @param validity A validity proof for the output\\n/// @param context Data for querying the right claim from the current consensus contract\\n/// @dev The encoding of `context` might vary depending on the implementation of the consensus contract.\\nstruct Proof {\\n    OutputValidityProof validity;\\n    bytes context;\\n}\\n\\n/// @title Cartesi DApp interface\\ninterface ICartesiDApp {\\n    // Events\\n\\n    /// @notice The DApp has migrated to another consensus contract.\\n    /// @param newConsensus The new consensus contract\\n    /// @dev MUST be triggered on a successful call to `migrateToConsensus`.\\n    event NewConsensus(IConsensus newConsensus);\\n\\n    /// @notice A voucher was executed from the DApp.\\n    /// @param voucherId A number that uniquely identifies the voucher\\n    ///                  amongst all vouchers emitted by this DApp\\n    event VoucherExecuted(uint256 voucherId);\\n\\n    // Permissioned functions\\n\\n    /// @notice Migrate the DApp to a new consensus.\\n    /// @param _newConsensus The new consensus\\n    /// @dev Can only be called by the DApp owner.\\n    function migrateToConsensus(IConsensus _newConsensus) external;\\n\\n    // Permissionless functions\\n\\n    /// @notice Try to execute a voucher.\\n    ///\\n    /// Reverts if voucher was already successfully executed.\\n    ///\\n    /// @param _destination The address that will receive the payload through a message call\\n    /// @param _payload The payload, which\\u2014in the case of Solidity contracts\\u2014encodes a function call\\n    /// @param _proof The proof used to validate the voucher against\\n    ///               a claim submitted by the current consensus contract\\n    /// @return Whether the execution was successful or not\\n    /// @dev On a successful execution, emits a `VoucherExecuted` event.\\n    ///      Execution of already executed voucher will raise a `VoucherReexecutionNotAllowed` error.\\n    function executeVoucher(\\n        address _destination,\\n        bytes calldata _payload,\\n        Proof calldata _proof\\n    ) external returns (bool);\\n\\n    /// @notice Check whether a voucher has been executed.\\n    /// @param _inputIndex The index of the input in the input box\\n    /// @param _outputIndexWithinInput The index of output emitted by the input\\n    /// @return Whether the voucher has been executed before\\n    function wasVoucherExecuted(\\n        uint256 _inputIndex,\\n        uint256 _outputIndexWithinInput\\n    ) external view returns (bool);\\n\\n    /// @notice Validate a notice.\\n    /// @param _notice The notice\\n    /// @param _proof Data for validating outputs\\n    /// @return Whether the notice is valid or not\\n    function validateNotice(\\n        bytes calldata _notice,\\n        Proof calldata _proof\\n    ) external view returns (bool);\\n\\n    /// @notice Get the DApp's template hash.\\n    /// @return The DApp's template hash\\n    function getTemplateHash() external view returns (bytes32);\\n\\n    /// @notice Get the current consensus.\\n    /// @return The current consensus\\n    function getConsensus() external view returns (IConsensus);\\n}\\n\",\"keccak256\":\"0x7bb375a4deb593af06955bbf1d88e096f4288f25fa032349796f93705d29386f\",\"license\":\"Apache-2.0 (see LICENSE)\"},\"@cartesi/rollups/contracts/dapp/ICartesiDAppFactory.sol\":{\"content\":\"// (c) Cartesi and individual authors (see AUTHORS)\\n// SPDX-License-Identifier: Apache-2.0 (see LICENSE)\\n\\npragma solidity ^0.8.8;\\n\\nimport {CartesiDApp} from \\\"./CartesiDApp.sol\\\";\\nimport {IConsensus} from \\\"../consensus/IConsensus.sol\\\";\\n\\n/// @title Cartesi DApp Factory interface\\ninterface ICartesiDAppFactory {\\n    // Events\\n\\n    /// @notice A new application was deployed.\\n    /// @param consensus The initial consensus contract\\n    /// @param dappOwner The initial DApp owner\\n    /// @param templateHash The initial machine state hash\\n    /// @param application The application\\n    /// @dev MUST be triggered on a successful call to `newApplication`.\\n    event ApplicationCreated(\\n        IConsensus indexed consensus,\\n        address dappOwner,\\n        bytes32 templateHash,\\n        CartesiDApp application\\n    );\\n\\n    // Permissionless functions\\n\\n    /// @notice Deploy a new application.\\n    /// @param _consensus The initial consensus contract\\n    /// @param _dappOwner The initial DApp owner\\n    /// @param _templateHash The initial machine state hash\\n    /// @return The application\\n    /// @dev On success, MUST emit an `ApplicationCreated` event.\\n    function newApplication(\\n        IConsensus _consensus,\\n        address _dappOwner,\\n        bytes32 _templateHash\\n    ) external returns (CartesiDApp);\\n\\n    /// @notice Deploy a new application deterministically.\\n    /// @param _consensus The initial consensus contract\\n    /// @param _dappOwner The initial DApp owner\\n    /// @param _templateHash The initial machine state hash\\n    /// @param _salt The salt used to deterministically generate the DApp address\\n    /// @return The application\\n    /// @dev On success, MUST emit an `ApplicationCreated` event.\\n    function newApplication(\\n        IConsensus _consensus,\\n        address _dappOwner,\\n        bytes32 _templateHash,\\n        bytes32 _salt\\n    ) external returns (CartesiDApp);\\n\\n    /// @notice Calculate the address of an application to be deployed deterministically.\\n    /// @param _consensus The initial consensus contract\\n    /// @param _dappOwner The initial DApp owner\\n    /// @param _templateHash The initial machine state hash\\n    /// @param _salt The salt used to deterministically generate the DApp address\\n    /// @return The deterministic application address\\n    /// @dev Beware that only the `newApplication` function with the `_salt` parameter\\n    ///      is able to deterministically deploy an application.\\n    function calculateApplicationAddress(\\n        IConsensus _consensus,\\n        address _dappOwner,\\n        bytes32 _templateHash,\\n        bytes32 _salt\\n    ) external view returns (address);\\n}\\n\",\"keccak256\":\"0xb6d6ae44b2195f54a5c5ac85dc1c33801036878982c6b9aafe8fb66a3103517b\",\"license\":\"Apache-2.0 (see LICENSE)\"},\"@cartesi/rollups/contracts/library/LibOutputValidation.sol\":{\"content\":\"// (c) Cartesi and individual authors (see AUTHORS)\\n// SPDX-License-Identifier: Apache-2.0 (see LICENSE)\\n\\npragma solidity ^0.8.8;\\n\\nimport {CanonicalMachine} from \\\"../common/CanonicalMachine.sol\\\";\\nimport {MerkleV2} from \\\"@cartesi/util/contracts/MerkleV2.sol\\\";\\nimport {OutputEncoding} from \\\"../common/OutputEncoding.sol\\\";\\n\\n/// @param inputIndexWithinEpoch Which input, inside the epoch, the output belongs to\\n/// @param outputIndexWithinInput Index of output emitted by the input\\n/// @param outputHashesRootHash Merkle root of hashes of outputs emitted by the input\\n/// @param vouchersEpochRootHash Merkle root of all epoch's voucher metadata hashes\\n/// @param noticesEpochRootHash Merkle root of all epoch's notice metadata hashes\\n/// @param machineStateHash Hash of the machine state claimed this epoch\\n/// @param outputHashInOutputHashesSiblings Proof that this output metadata is in metadata memory range\\n/// @param outputHashesInEpochSiblings Proof that this output metadata is in epoch's output memory range\\nstruct OutputValidityProof {\\n    uint64 inputIndexWithinEpoch;\\n    uint64 outputIndexWithinInput;\\n    bytes32 outputHashesRootHash;\\n    bytes32 vouchersEpochRootHash;\\n    bytes32 noticesEpochRootHash;\\n    bytes32 machineStateHash;\\n    bytes32[] outputHashInOutputHashesSiblings;\\n    bytes32[] outputHashesInEpochSiblings;\\n}\\n\\n/// @title Output Validation Library\\nlibrary LibOutputValidation {\\n    using CanonicalMachine for CanonicalMachine.Log2Size;\\n\\n    /// @notice Raised when some `OutputValidityProof` variables does not match\\n    ///         the presented finalized epoch.\\n    error IncorrectEpochHash();\\n\\n    /// @notice Raised when `OutputValidityProof` metadata memory range is NOT\\n    ///         contained in epoch's output memory range.\\n    error IncorrectOutputsEpochRootHash();\\n\\n    /// @notice Raised when Merkle root of output hash is NOT contained\\n    ///         in the output metadata array memory range.\\n    error IncorrectOutputHashesRootHash();\\n\\n    /// @notice Raised when epoch input index is NOT compatible with the\\n    ///         provided input index range.\\n    error InputIndexOutOfClaimBounds();\\n\\n    /// @notice Make sure the output proof is valid, otherwise revert.\\n    /// @param v The output validity proof\\n    /// @param encodedOutput The encoded output\\n    /// @param epochHash The hash of the epoch in which the output was generated\\n    /// @param outputsEpochRootHash Either `v.vouchersEpochRootHash` (for vouchers)\\n    ///                             or `v.noticesEpochRootHash` (for notices)\\n    /// @param outputEpochLog2Size Either `EPOCH_VOUCHER_LOG2_SIZE` (for vouchers)\\n    ///                            or `EPOCH_NOTICE_LOG2_SIZE` (for notices)\\n    /// @param outputHashesLog2Size Either `VOUCHER_METADATA_LOG2_SIZE` (for vouchers)\\n    ///                             or `NOTICE_METADATA_LOG2_SIZE` (for notices)\\n    function validateEncodedOutput(\\n        OutputValidityProof calldata v,\\n        bytes memory encodedOutput,\\n        bytes32 epochHash,\\n        bytes32 outputsEpochRootHash,\\n        uint256 outputEpochLog2Size,\\n        uint256 outputHashesLog2Size\\n    ) internal pure {\\n        // prove that outputs hash is represented in a finalized epoch\\n        if (\\n            keccak256(\\n                abi.encodePacked(\\n                    v.vouchersEpochRootHash,\\n                    v.noticesEpochRootHash,\\n                    v.machineStateHash\\n                )\\n            ) != epochHash\\n        ) {\\n            revert IncorrectEpochHash();\\n        }\\n\\n        // prove that output metadata memory range is contained in epoch's output memory range\\n        if (\\n            MerkleV2.getRootAfterReplacementInDrive(\\n                CanonicalMachine.getIntraMemoryRangePosition(\\n                    v.inputIndexWithinEpoch,\\n                    CanonicalMachine.KECCAK_LOG2_SIZE\\n                ),\\n                CanonicalMachine.KECCAK_LOG2_SIZE.uint64OfSize(),\\n                outputEpochLog2Size,\\n                v.outputHashesRootHash,\\n                v.outputHashesInEpochSiblings\\n            ) != outputsEpochRootHash\\n        ) {\\n            revert IncorrectOutputsEpochRootHash();\\n        }\\n\\n        // The hash of the output is converted to bytes (abi.encode) and\\n        // treated as data. The metadata output memory range stores that data while\\n        // being indifferent to its contents. To prove that the received\\n        // output is contained in the metadata output memory range we need to\\n        // prove that x, where:\\n        // x = keccak(\\n        //          keccak(\\n        //              keccak(hashOfOutput[0:7]),\\n        //              keccak(hashOfOutput[8:15])\\n        //          ),\\n        //          keccak(\\n        //              keccak(hashOfOutput[16:23]),\\n        //              keccak(hashOfOutput[24:31])\\n        //          )\\n        //     )\\n        // is contained in it. We can't simply use hashOfOutput because the\\n        // log2size of the leaf is three (8 bytes) not  five (32 bytes)\\n        bytes32 merkleRootOfHashOfOutput = MerkleV2.getMerkleRootFromBytes(\\n            abi.encodePacked(keccak256(encodedOutput)),\\n            CanonicalMachine.KECCAK_LOG2_SIZE.uint64OfSize()\\n        );\\n\\n        // prove that Merkle root of bytes(hashOfOutput) is contained\\n        // in the output metadata array memory range\\n        if (\\n            MerkleV2.getRootAfterReplacementInDrive(\\n                CanonicalMachine.getIntraMemoryRangePosition(\\n                    v.outputIndexWithinInput,\\n                    CanonicalMachine.KECCAK_LOG2_SIZE\\n                ),\\n                CanonicalMachine.KECCAK_LOG2_SIZE.uint64OfSize(),\\n                outputHashesLog2Size,\\n                merkleRootOfHashOfOutput,\\n                v.outputHashInOutputHashesSiblings\\n            ) != v.outputHashesRootHash\\n        ) {\\n            revert IncorrectOutputHashesRootHash();\\n        }\\n    }\\n\\n    /// @notice Make sure the output proof is valid, otherwise revert.\\n    /// @param v The output validity proof\\n    /// @param destination The address that will receive the payload through a message call\\n    /// @param payload The payload, which\\u2014in the case of Solidity contracts\\u2014encodes a function call\\n    /// @param epochHash The hash of the epoch in which the output was generated\\n    function validateVoucher(\\n        OutputValidityProof calldata v,\\n        address destination,\\n        bytes calldata payload,\\n        bytes32 epochHash\\n    ) internal pure {\\n        bytes memory encodedVoucher = OutputEncoding.encodeVoucher(\\n            destination,\\n            payload\\n        );\\n        validateEncodedOutput(\\n            v,\\n            encodedVoucher,\\n            epochHash,\\n            v.vouchersEpochRootHash,\\n            CanonicalMachine.EPOCH_VOUCHER_LOG2_SIZE.uint64OfSize(),\\n            CanonicalMachine.VOUCHER_METADATA_LOG2_SIZE.uint64OfSize()\\n        );\\n    }\\n\\n    /// @notice Make sure the output proof is valid, otherwise revert.\\n    /// @param v The output validity proof\\n    /// @param notice The notice\\n    /// @param epochHash The hash of the epoch in which the output was generated\\n    function validateNotice(\\n        OutputValidityProof calldata v,\\n        bytes calldata notice,\\n        bytes32 epochHash\\n    ) internal pure {\\n        bytes memory encodedNotice = OutputEncoding.encodeNotice(notice);\\n        validateEncodedOutput(\\n            v,\\n            encodedNotice,\\n            epochHash,\\n            v.noticesEpochRootHash,\\n            CanonicalMachine.EPOCH_NOTICE_LOG2_SIZE.uint64OfSize(),\\n            CanonicalMachine.NOTICE_METADATA_LOG2_SIZE.uint64OfSize()\\n        );\\n    }\\n\\n    /// @notice Get the position of a voucher on the bit mask.\\n    /// @param voucher The index of voucher from those generated by such input\\n    /// @param input The index of the input in the DApp's input box\\n    /// @return Position of the voucher on the bit mask\\n    function getBitMaskPosition(\\n        uint256 voucher,\\n        uint256 input\\n    ) internal pure returns (uint256) {\\n        // voucher * 2 ** 128 + input\\n        // this shouldn't overflow because it is impossible to have > 2**128 vouchers\\n        // and because we are assuming there will be < 2 ** 128 inputs on the input box\\n        return (((voucher << 128) | input));\\n    }\\n\\n    /// @notice Validate input index range and get the input index.\\n    /// @param v The output validity proof\\n    /// @param firstInputIndex The index of the first input of the epoch in the input box\\n    /// @param lastInputIndex The index of the last input of the epoch in the input box\\n    /// @return The index of the input in the DApp's input box\\n    /// @dev Reverts if epoch input index is not compatible with the provided input index range.\\n    function validateInputIndexRange(\\n        OutputValidityProof calldata v,\\n        uint256 firstInputIndex,\\n        uint256 lastInputIndex\\n    ) internal pure returns (uint256) {\\n        uint256 inputIndex = firstInputIndex + v.inputIndexWithinEpoch;\\n\\n        if (inputIndex > lastInputIndex) {\\n            revert InputIndexOutOfClaimBounds();\\n        }\\n\\n        return inputIndex;\\n    }\\n}\\n\",\"keccak256\":\"0x874ef478bd265acc94f2480a97191da907f05c6b46dc9e901c534b6acab14e03\",\"license\":\"Apache-2.0 (see LICENSE)\"},\"@cartesi/util/contracts/Bitmask.sol\":{\"content\":\"// SPDX-License-Identifier: Apache-2.0\\n// Licensed under the Apache License, Version 2.0 (the \\\"License\\\"); you may not use\\n// this file except in compliance with the License. You may obtain a copy of the\\n// License at http://www.apache.org/licenses/LICENSE-2.0\\n\\n// Unless required by applicable law or agreed to in writing, software distributed\\n// under the License is distributed on an \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR\\n// CONDITIONS OF ANY KIND, either express or implied. See the License for the\\n// specific language governing permissions and limitations under the License.\\n\\npragma solidity ^0.8.0;\\n\\n/// @title Bit Mask Library\\n/// @author Stephen Chen\\n/// @notice Implements bit mask with dynamic array\\nlibrary Bitmask {\\n    /// @notice Set a bit in the bit mask\\n    function setBit(mapping(uint256 => uint256) storage bitmask, uint256 _bit, bool _value) public {\\n        // calculate the number of bits has been store in bitmask now\\n        uint256 positionOfMask = uint256(_bit / 256);\\n        uint256 positionOfBit = _bit % 256;\\n\\n        if (_value) {\\n            bitmask[positionOfMask] = bitmask[positionOfMask] | (1 << positionOfBit);\\n        } else {\\n            bitmask[positionOfMask] = bitmask[positionOfMask] & ~(1 << positionOfBit);\\n        }\\n    }\\n\\n    /// @notice Get a bit in the bit mask\\n    function getBit(mapping(uint256 => uint256) storage bitmask, uint256 _bit) public view returns (bool) {\\n        // calculate the number of bits has been store in bitmask now\\n        uint256 positionOfMask = uint256(_bit / 256);\\n        uint256 positionOfBit = _bit % 256;\\n\\n        return ((bitmask[positionOfMask] & (1 << positionOfBit)) != 0);\\n    }\\n}\\n\",\"keccak256\":\"0x606a3967f7444ce1dc07726e6c5cdcf48360000817c65b631e6ebd8fb96f6e1d\",\"license\":\"Apache-2.0\"},\"@cartesi/util/contracts/CartesiMathV2.sol\":{\"content\":\"// SPDX-License-Identifier: Apache-2.0\\n// Licensed under the Apache License, Version 2.0 (the \\\"License\\\"); you may not use\\n// this file except in compliance with the License. You may obtain a copy of the\\n// License at http://www.apache.org/licenses/LICENSE-2.0\\n\\n// Unless required by applicable law or agreed to in writing, software distributed\\n// under the License is distributed on an \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR\\n// CONDITIONS OF ANY KIND, either express or implied. See the License for the\\n// specific language governing permissions and limitations under the License.\\n\\n/// @title CartesiMath\\n/// @author Felipe Argento\\npragma solidity ^0.8.0;\\n\\nlibrary CartesiMathV2 {\\n    // mapping values are packed as bytes3 each\\n    // see test/TestCartesiMath.ts for decimal values\\n    bytes constant log2tableTimes1M =\\n        hex\\\"0000000F4240182F421E8480236E082771822AD63A2DC6C0305E8532B04834C96736B3C23876D73A187A3B9D4A3D09003E5EA63FA0C540D17741F28843057D440BA745062945F60246DC1047B917488DC7495ABA4A207C4ADF8A4B98544C4B404CF8AA4DA0E64E44434EE3054F7D6D5013B750A61A5134C851BFF05247BD52CC58534DE753CC8D54486954C19C55384255AC75561E50568DE956FB575766B057D00758376F589CFA5900BA5962BC59C3135A21CA5A7EF15ADA945B34BF5B8D805BE4DF5C3AEA5C8FA95CE3265D356C5D86835DD6735E25455E73005EBFAD5F0B525F55F75F9FA25FE85A60302460770860BD0A61023061467F6189FD61CCAE620E98624FBF62902762CFD5630ECD634D12638AA963C7966403DC643F7F647A8264B4E864EEB56527EC6560906598A365D029660724663D9766738566A8F066DDDA6712476746386779AF67ACAF67DF3A6811526842FA68743268A4FC68D55C6905536934E169640A6992CF69C13169EF326A1CD46A4A186A76FF6AA38C6ACFC0\\\";\\n\\n    /// @notice Approximates log2 * 1M\\n    /// @param _num number to take log2 * 1M of\\n    /// @return approximate log2 times 1M\\n    function log2ApproxTimes1M(uint256 _num) public pure returns (uint256) {\\n        require(_num > 0, \\\"Number cannot be zero\\\");\\n        uint256 leading = 0;\\n\\n        if (_num == 1) return 0;\\n\\n        while (_num > 128) {\\n            _num = _num >> 1;\\n            leading += 1;\\n        }\\n        return (leading * uint256(1000000)) + (getLog2TableTimes1M(_num));\\n    }\\n\\n    /// @notice navigates log2tableTimes1M\\n    /// @param _num number to take log2 of\\n    /// @return result after table look-up\\n    function getLog2TableTimes1M(uint256 _num) public pure returns (uint256) {\\n        bytes3 result = 0;\\n        for (uint8 i = 0; i < 3; i++) {\\n            bytes3 tempResult = log2tableTimes1M[(_num - 1) * 3 + i];\\n            result = result | (tempResult >> (i * 8));\\n        }\\n\\n        return uint256(uint24(result));\\n    }\\n\\n    /// @notice get floor of log2 of number\\n    /// @param _num number to take floor(log2) of\\n    /// @return floor(log2) of _num\\n    function getLog2Floor(uint256 _num) public pure returns (uint8) {\\n        require(_num != 0, \\\"log of zero is undefined\\\");\\n\\n        return uint8(255 - clz(_num));\\n    }\\n\\n    /// @notice checks if a number is Power of 2\\n    /// @param _num number to check\\n    /// @return true if number is power of 2, false if not\\n    function isPowerOf2(uint256 _num) public pure returns (bool) {\\n        if (_num == 0) return false;\\n\\n        return _num & (_num - 1) == 0;\\n    }\\n\\n    /// @notice count trailing zeros\\n    /// @param _num number you want the ctz of\\n    /// @dev this a binary search implementation\\n    function ctz(uint256 _num) public pure returns (uint256) {\\n        if (_num == 0) return 256;\\n\\n        uint256 n = 0;\\n        if (_num & 0x00000000000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF == 0) {\\n            n = n + 128;\\n            _num = _num >> 128;\\n        }\\n        if (_num & 0x000000000000000000000000000000000000000000000000FFFFFFFFFFFFFFFF == 0) {\\n            n = n + 64;\\n            _num = _num >> 64;\\n        }\\n        if (_num & 0x00000000000000000000000000000000000000000000000000000000FFFFFFFF == 0) {\\n            n = n + 32;\\n            _num = _num >> 32;\\n        }\\n        if (_num & 0x000000000000000000000000000000000000000000000000000000000000FFFF == 0) {\\n            n = n + 16;\\n            _num = _num >> 16;\\n        }\\n        if (_num & 0x00000000000000000000000000000000000000000000000000000000000000FF == 0) {\\n            n = n + 8;\\n            _num = _num >> 8;\\n        }\\n        if (_num & 0x000000000000000000000000000000000000000000000000000000000000000F == 0) {\\n            n = n + 4;\\n            _num = _num >> 4;\\n        }\\n        if (_num & 0x0000000000000000000000000000000000000000000000000000000000000003 == 0) {\\n            n = n + 2;\\n            _num = _num >> 2;\\n        }\\n        if (_num & 0x0000000000000000000000000000000000000000000000000000000000000001 == 0) {\\n            n = n + 1;\\n        }\\n\\n        return n;\\n    }\\n\\n    /// @notice count leading zeros\\n    /// @param _num number you want the clz of\\n    /// @dev this a binary search implementation\\n    function clz(uint256 _num) public pure returns (uint256) {\\n        if (_num == 0) return 256;\\n\\n        uint256 n = 0;\\n        if (_num & 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000000000000000000000000000 == 0) {\\n            n = n + 128;\\n            _num = _num << 128;\\n        }\\n        if (_num & 0xFFFFFFFFFFFFFFFF000000000000000000000000000000000000000000000000 == 0) {\\n            n = n + 64;\\n            _num = _num << 64;\\n        }\\n        if (_num & 0xFFFFFFFF00000000000000000000000000000000000000000000000000000000 == 0) {\\n            n = n + 32;\\n            _num = _num << 32;\\n        }\\n        if (_num & 0xFFFF000000000000000000000000000000000000000000000000000000000000 == 0) {\\n            n = n + 16;\\n            _num = _num << 16;\\n        }\\n        if (_num & 0xFF00000000000000000000000000000000000000000000000000000000000000 == 0) {\\n            n = n + 8;\\n            _num = _num << 8;\\n        }\\n        if (_num & 0xF000000000000000000000000000000000000000000000000000000000000000 == 0) {\\n            n = n + 4;\\n            _num = _num << 4;\\n        }\\n        if (_num & 0xC000000000000000000000000000000000000000000000000000000000000000 == 0) {\\n            n = n + 2;\\n            _num = _num << 2;\\n        }\\n        if (_num & 0x8000000000000000000000000000000000000000000000000000000000000000 == 0) {\\n            n = n + 1;\\n        }\\n\\n        return n;\\n    }\\n}\\n\",\"keccak256\":\"0x98fb8d20c05b7c39c44171b6c524cf023da646749eb90157463538da8b2e13d3\",\"license\":\"Apache-2.0\"},\"@cartesi/util/contracts/MerkleV2.sol\":{\"content\":\"// SPDX-License-Identifier: Apache-2.0\\n// Licensed under the Apache License, Version 2.0 (the \\\"License\\\"); you may not use\\n// this file except in compliance with the License. You may obtain a copy of the\\n// License at http://www.apache.org/licenses/LICENSE-2.0\\n\\n// Unless required by applicable law or agreed to in writing, software distributed\\n// under the License is distributed on an \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR\\n// CONDITIONS OF ANY KIND, either express or implied. See the License for the\\n// specific language governing permissions and limitations under the License.\\n\\n/// @title Library for Merkle proofs\\npragma solidity ^0.8.0;\\n\\nimport \\\"./CartesiMathV2.sol\\\";\\n\\nlibrary MerkleV2 {\\n    using CartesiMathV2 for uint256;\\n\\n    uint128 constant L_WORD_SIZE = 3; // word = 8 bytes, log = 3\\n    // number of hashes in EMPTY_TREE_HASHES\\n    uint128 constant EMPTY_TREE_SIZE = 1952; // 61*32=1952. 32 bytes per 61 indexes (64 words)\\n\\n    // merkle root hashes of trees of zero concatenated\\n    // 32 bytes for each root, first one is keccak(0), second one is\\n    // keccak(keccack(0), keccak(0)) and so on\\n\\n    bytes constant EMPTY_TREE_HASHES =\\n        hex\\\"011b4d03dd8c01f1049143cf9c4c817e4b167f1d1b83e5c6f0f10d89ba1e7bce4d9470a821fbe90117ec357e30bad9305732fb19ddf54a07dd3e29f440619254ae39ce8537aca75e2eff3e38c98011dfe934e700a0967732fc07b430dd656a233fc9a15f5b4869c872f81087bb6104b7d63e6f9ab47f2c43f3535eae7172aa7f17d2dd614cddaa4d879276b11e0672c9560033d3e8453a1d045339d34ba601b9c37b8b13ca95166fb7af16988a70fcc90f38bf9126fd833da710a47fb37a55e68e7a427fa943d9966b389f4f257173676090c6e95f43e2cb6d65f8758111e30930b0b9deb73e155c59740bacf14a6ff04b64bb8e201a506409c3fe381ca4ea90cd5deac729d0fdaccc441d09d7325f41586ba13c801b7eccae0f95d8f3933efed8b96e5b7f6f459e9cb6a2f41bf276c7b85c10cd4662c04cbbb365434726c0a0c9695393027fb106a8153109ac516288a88b28a93817899460d6310b71cf1e6163e8806fa0d4b197a259e8c3ac28864268159d0ac85f8581ca28fa7d2c0c03eb91e3eee5ca7a3da2b3053c9770db73599fb149f620e3facef95e947c0ee860b72122e31e4bbd2b7c783d79cc30f60c6238651da7f0726f767d22747264fdb046f7549f26cc70ed5e18baeb6c81bb0625cb95bb4019aeecd40774ee87ae29ec517a71f6ee264c5d761379b3d7d617ca83677374b49d10aec50505ac087408ca892b573c267a712a52e1d06421fe276a03efb1889f337201110fdc32a81f8e152499af665835aabfdc6740c7e2c3791a31c3cdc9f5ab962f681b12fc092816a62f27d86025599a41233848702f0cfc0437b445682df51147a632a0a083d2d38b5e13e466a8935afff58bb533b3ef5d27fba63ee6b0fd9e67ff20af9d50deee3f8bf065ec220c1fd4ba57e341261d55997f85d66d32152526736872693d2b437a233e2337b715f6ac9a6a272622fdc2d67fcfe1da3459f8dab4ed7e40a657a54c36766c5e8ac9a88b35b05c34747e6507f6b044ab66180dc76ac1a696de03189593fedc0d0dbbd855c8ead673544899b0960e4a5a7ca43b4ef90afe607de7698caefdc242788f654b57a4fb32a71b335ef6ff9a4cc118b282b53bdd6d6192b7a82c3c5126b9c7e33c8e5a5ac9738b8bd31247fb7402054f97b573e8abb9faad219f4fd085aceaa7f542d787ee4196d365f3cc566e7bbcfbfd451230c48d804c017d21e2d8fa914e2559bb72bf0ab78c8ab92f00ef0d0d576eccdd486b64138a4172674857e543d1d5b639058dd908186597e366ad5f3d9c7ceaff44d04d1550b8d33abc751df07437834ba5acb32328a396994aebb3c40f759c2d6d7a3cb5377e55d5d218ef5a296dda8ddc355f3f50c3d0b660a51dfa4d98a6a5a33564556cf83c1373a814641d6a1dcef97b883fee61bb84fe60a3409340217e629cc7e4dcc93b85d8820921ff5826148b60e6939acd7838e1d7f20562bff8ee4b5ec4a05ad997a57b9796fdcb2eda87883c2640b072b140b946bfdf6575cacc066fdae04f6951e63624cbd316a677cad529bbe4e97b9144e4bc06c4afd1de55dd3e1175f90423847a230d34dfb71ed56f2965a7f6c72e6aa33c24c303fd67745d632656c5ef90bec80f4f5d1daa251988826cef375c81c36bf457e09687056f924677cb0bccf98dff81e014ce25f2d132497923e267363963cdf4302c5049d63131dc03fd95f65d8b6aa5934f817252c028c90f56d413b9d5d10d89790707dae2fabb249f649929927c21dd71e3f656826de5451c5da375aadecbd59d5ebf3a31fae65ac1b316a1611f1b276b26530f58d7247df459ce1f86db1d734f6f811932f042cee45d0e455306d01081bc3384f82c5fb2aacaa19d89cdfa46cc916eac61121475ba2e6191b4feecbe1789717021a158ace5d06744b40f551076b67cd63af60007f8c99876e1424883a45ec49d497ddaf808a5521ca74a999ab0b3c7aa9c80f85e93977ec61ce68b20307a1a81f71ca645b568fcd319ccbb5f651e87b707d37c39e15f945ea69e2f7c7d2ccc85b7e654c07e96f0636ae4044fe0e38590b431795ad0f8647bdd613713ada493cc17efd313206380e6a685b8198475bbd021c6e9d94daab2214947127506073e44d5408ba166c512a0b86805d07f5a44d3c41706be2bc15e712e55805248b92e8677d90f6d284d1d6ffaff2c430657042a0e82624fa3717b06cc0a6fd12230ea586dae83019fb9e06034ed2803c98d554b93c9a52348cafff75c40174a91f9ae6b8647854a156029f0b88b83316663ce574a4978277bb6bb27a31085634b6ec78864b6d8201c7e93903d75815067e378289a3d072ae172dafa6a452470f8d645bebfad9779594fc0784bb764a22e3a8181d93db7bf97893c414217a618ccb14caa9e92e8c61673afc9583662e812adba1f87a9c68202d60e909efab43c42c0cb00695fc7f1ffe67c75ca894c3c51e1e5e731360199e600f6ced9a87b2a6a87e70bf251bb5075ab222138288164b2eda727515ea7de12e2496d4fe42ea8d1a120c03cf9c50622c2afe4acb0dad98fd62d07ab4e828a94495f6d1ab973982c7ccbe6c1fae02788e4422ae22282fa49cbdb04ba54a7a238c6fc41187451383460762c06d1c8a72b9cd718866ad4b689e10c9a8c38fe5ef045bd785b01e980fc82c7e3532ce81876b778dd9f1ceeba4478e86411fb6fdd790683916ca832592485093644e8760cd7b4c01dba1ccc82b661bf13f0e3f34acd6b88\\\";\\n\\n    /// @notice Gets merkle root hash of drive with a replacement\\n    /// @param _position position of _drive\\n    /// @param _logSizeOfReplacement log2 of size the replacement\\n    /// @param _logSizeOfFullDrive log2 of size the full drive, which can be the entire machine\\n    /// @param _replacement hash of the replacement\\n    /// @param siblings of replacement that merkle root can be calculated\\n    function getRootAfterReplacementInDrive(\\n        uint256 _position,\\n        uint256 _logSizeOfReplacement,\\n        uint256 _logSizeOfFullDrive,\\n        bytes32 _replacement,\\n        bytes32[] calldata siblings\\n    ) public pure returns (bytes32) {\\n        require(\\n            _logSizeOfFullDrive >= _logSizeOfReplacement && _logSizeOfReplacement >= 3 && _logSizeOfFullDrive <= 64,\\n            \\\"3 <= logSizeOfReplacement <= logSizeOfFullDrive <= 64\\\"\\n        );\\n\\n        uint256 size = 1 << _logSizeOfReplacement;\\n\\n        require(((size - 1) & _position) == 0, \\\"Position is not aligned\\\");\\n        require(siblings.length == _logSizeOfFullDrive - _logSizeOfReplacement, \\\"Proof length does not match\\\");\\n\\n        for (uint256 i; i < siblings.length; i++) {\\n            if ((_position & (size << i)) == 0) {\\n                _replacement = keccak256(abi.encodePacked(_replacement, siblings[i]));\\n            } else {\\n                _replacement = keccak256(abi.encodePacked(siblings[i], _replacement));\\n            }\\n        }\\n\\n        return _replacement;\\n    }\\n\\n    /// @notice Gets precomputed hash of zero in empty tree hashes\\n    /// @param _index of hash wanted\\n    /// @dev first index is keccak(0), second index is keccak(keccak(0), keccak(0))\\n    function getEmptyTreeHashAtIndex(uint256 _index) public pure returns (bytes32) {\\n        uint256 start = _index * 32;\\n        require(EMPTY_TREE_SIZE >= start + 32, \\\"index out of bounds\\\");\\n        bytes32 hashedZeros;\\n        bytes memory zeroTree = EMPTY_TREE_HASHES;\\n\\n        // first word is length, then skip index words\\n        assembly {\\n            hashedZeros := mload(add(add(zeroTree, 0x20), start))\\n        }\\n        return hashedZeros;\\n    }\\n\\n    /// @notice get merkle root of generic array of bytes\\n    /// @param _data array of bytes to be merklelized\\n    /// @param _log2Size log2 of total size of the drive\\n    /// @dev _data is padded with zeroes until is multiple of 8\\n    /// @dev root is completed with zero tree until log2size is complete\\n    /// @dev hashes are taken word by word (8 bytes by 8 bytes)\\n    function getMerkleRootFromBytes(bytes calldata _data, uint256 _log2Size) public pure returns (bytes32) {\\n        require(_log2Size >= 3 && _log2Size <= 64, \\\"range of log2Size: [3,64]\\\");\\n\\n        // if _data is empty return pristine drive of size log2size\\n        if (_data.length == 0) return getEmptyTreeHashAtIndex(_log2Size - 3);\\n\\n        // total size of the drive in words\\n        uint256 size = 1 << (_log2Size - 3);\\n        require(size << L_WORD_SIZE >= _data.length, \\\"data is bigger than drive\\\");\\n        // the stack depth is log2(_data.length / 8) + 2\\n        uint256 stack_depth = 2 + ((_data.length) >> L_WORD_SIZE).getLog2Floor();\\n        bytes32[] memory stack = new bytes32[](stack_depth);\\n\\n        uint256 numOfHashes; // total number of hashes on stack (counting levels)\\n        uint256 stackLength; // total length of stack\\n        uint256 numOfJoins; // number of hashes of the same level on stack\\n        uint256 topStackLevel; // hash level of the top of the stack\\n\\n        while (numOfHashes < size) {\\n            if ((numOfHashes << L_WORD_SIZE) < _data.length) {\\n                // we still have words to hash\\n                stack[stackLength] = getHashOfWordAtIndex(_data, numOfHashes);\\n                numOfHashes++;\\n\\n                numOfJoins = numOfHashes;\\n            } else {\\n                // since padding happens in hashOfWordAtIndex function\\n                // we only need to complete the stack with pre-computed\\n                // hash(0), hash(hash(0),hash(0)) and so on\\n                topStackLevel = numOfHashes.ctz();\\n\\n                stack[stackLength] = getEmptyTreeHashAtIndex(topStackLevel);\\n\\n                //Empty Tree Hash summarizes many hashes\\n                numOfHashes = numOfHashes + (1 << topStackLevel);\\n                numOfJoins = numOfHashes >> topStackLevel;\\n            }\\n\\n            stackLength++;\\n\\n            // while there are joins, hash top of stack together\\n            while (numOfJoins & 1 == 0) {\\n                bytes32 h2 = stack[stackLength - 1];\\n                bytes32 h1 = stack[stackLength - 2];\\n\\n                stack[stackLength - 2] = keccak256(abi.encodePacked(h1, h2));\\n                stackLength = stackLength - 1; // remove hashes from stack\\n\\n                numOfJoins = numOfJoins >> 1;\\n            }\\n        }\\n        require(stackLength == 1, \\\"stack error\\\");\\n\\n        return stack[0];\\n    }\\n\\n    /// @notice Get the hash of a word in an array of bytes\\n    /// @param _data array of bytes\\n    /// @param _wordIndex index of word inside the bytes to get the hash of\\n    /// @dev if word is incomplete (< 8 bytes) it gets padded with zeroes\\n    function getHashOfWordAtIndex(bytes calldata _data, uint256 _wordIndex) public pure returns (bytes32) {\\n        uint256 start = _wordIndex << L_WORD_SIZE;\\n        uint256 end = start + (1 << L_WORD_SIZE);\\n\\n        // TODO: in .lua this just returns zero, but this might be more consistent\\n        require(start <= _data.length, \\\"word out of bounds\\\");\\n\\n        if (end <= _data.length) {\\n            return keccak256(abi.encodePacked(_data[start:end]));\\n        }\\n\\n        // word is incomplete\\n        // fill paddedSlice with incomplete words - the rest is going to be bytes(0)\\n        bytes memory paddedSlice = new bytes(8);\\n        uint256 remaining = _data.length - start;\\n\\n        for (uint256 i; i < remaining; i++) {\\n            paddedSlice[i] = _data[start + i];\\n        }\\n\\n        return keccak256(paddedSlice);\\n    }\\n\\n    /// @notice Calculate the root of Merkle tree from an array of power of 2 elements\\n    /// @param hashes The array containing power of 2 elements\\n    /// @return byte32 the root hash being calculated\\n    function calculateRootFromPowerOfTwo(bytes32[] memory hashes) public pure returns (bytes32) {\\n        // revert when the input is not of power of 2\\n        require((hashes.length).isPowerOf2(), \\\"array len not power of 2\\\");\\n\\n        if (hashes.length == 1) {\\n            return hashes[0];\\n        } else {\\n            bytes32[] memory newHashes = new bytes32[](hashes.length >> 1);\\n\\n            for (uint256 i; i < hashes.length; i += 2) {\\n                newHashes[i >> 1] = keccak256(abi.encodePacked(hashes[i], hashes[i + 1]));\\n            }\\n\\n            return calculateRootFromPowerOfTwo(newHashes);\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x73d86cb2dfa2ca887987c6da8d193d523c6a65ea89e296d1f47f190ebda7fa9b\",\"license\":\"Apache-2.0\"},\"@openzeppelin/contracts/access/AccessControl.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (access/AccessControl.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IAccessControl.sol\\\";\\nimport \\\"../utils/Context.sol\\\";\\nimport \\\"../utils/Strings.sol\\\";\\nimport \\\"../utils/introspection/ERC165.sol\\\";\\n\\n/**\\n * @dev Contract module that allows children to implement role-based access\\n * control mechanisms. This is a lightweight version that doesn't allow enumerating role\\n * members except through off-chain means by accessing the contract event logs. Some\\n * applications may benefit from on-chain enumerability, for those cases see\\n * {AccessControlEnumerable}.\\n *\\n * Roles are referred to by their `bytes32` identifier. These should be exposed\\n * in the external API and be unique. The best way to achieve this is by\\n * using `public constant` hash digests:\\n *\\n * ```solidity\\n * bytes32 public constant MY_ROLE = keccak256(\\\"MY_ROLE\\\");\\n * ```\\n *\\n * Roles can be used to represent a set of permissions. To restrict access to a\\n * function call, use {hasRole}:\\n *\\n * ```solidity\\n * function foo() public {\\n *     require(hasRole(MY_ROLE, msg.sender));\\n *     ...\\n * }\\n * ```\\n *\\n * Roles can be granted and revoked dynamically via the {grantRole} and\\n * {revokeRole} functions. Each role has an associated admin role, and only\\n * accounts that have a role's admin role can call {grantRole} and {revokeRole}.\\n *\\n * By default, the admin role for all roles is `DEFAULT_ADMIN_ROLE`, which means\\n * that only accounts with this role will be able to grant or revoke other\\n * roles. More complex role relationships can be created by using\\n * {_setRoleAdmin}.\\n *\\n * WARNING: The `DEFAULT_ADMIN_ROLE` is also its own admin: it has permission to\\n * grant and revoke this role. Extra precautions should be taken to secure\\n * accounts that have been granted it. We recommend using {AccessControlDefaultAdminRules}\\n * to enforce additional security measures for this role.\\n */\\nabstract contract AccessControl is Context, IAccessControl, ERC165 {\\n    struct RoleData {\\n        mapping(address => bool) members;\\n        bytes32 adminRole;\\n    }\\n\\n    mapping(bytes32 => RoleData) private _roles;\\n\\n    bytes32 public constant DEFAULT_ADMIN_ROLE = 0x00;\\n\\n    /**\\n     * @dev Modifier that checks that an account has a specific role. Reverts\\n     * with a standardized message including the required role.\\n     *\\n     * The format of the revert reason is given by the following regular expression:\\n     *\\n     *  /^AccessControl: account (0x[0-9a-f]{40}) is missing role (0x[0-9a-f]{64})$/\\n     *\\n     * _Available since v4.1._\\n     */\\n    modifier onlyRole(bytes32 role) {\\n        _checkRole(role);\\n        _;\\n    }\\n\\n    /**\\n     * @dev See {IERC165-supportsInterface}.\\n     */\\n    function supportsInterface(bytes4 interfaceId) public view virtual override returns (bool) {\\n        return interfaceId == type(IAccessControl).interfaceId || super.supportsInterface(interfaceId);\\n    }\\n\\n    /**\\n     * @dev Returns `true` if `account` has been granted `role`.\\n     */\\n    function hasRole(bytes32 role, address account) public view virtual override returns (bool) {\\n        return _roles[role].members[account];\\n    }\\n\\n    /**\\n     * @dev Revert with a standard message if `_msgSender()` is missing `role`.\\n     * Overriding this function changes the behavior of the {onlyRole} modifier.\\n     *\\n     * Format of the revert message is described in {_checkRole}.\\n     *\\n     * _Available since v4.6._\\n     */\\n    function _checkRole(bytes32 role) internal view virtual {\\n        _checkRole(role, _msgSender());\\n    }\\n\\n    /**\\n     * @dev Revert with a standard message if `account` is missing `role`.\\n     *\\n     * The format of the revert reason is given by the following regular expression:\\n     *\\n     *  /^AccessControl: account (0x[0-9a-f]{40}) is missing role (0x[0-9a-f]{64})$/\\n     */\\n    function _checkRole(bytes32 role, address account) internal view virtual {\\n        if (!hasRole(role, account)) {\\n            revert(\\n                string(\\n                    abi.encodePacked(\\n                        \\\"AccessControl: account \\\",\\n                        Strings.toHexString(account),\\n                        \\\" is missing role \\\",\\n                        Strings.toHexString(uint256(role), 32)\\n                    )\\n                )\\n            );\\n        }\\n    }\\n\\n    /**\\n     * @dev Returns the admin role that controls `role`. See {grantRole} and\\n     * {revokeRole}.\\n     *\\n     * To change a role's admin, use {_setRoleAdmin}.\\n     */\\n    function getRoleAdmin(bytes32 role) public view virtual override returns (bytes32) {\\n        return _roles[role].adminRole;\\n    }\\n\\n    /**\\n     * @dev Grants `role` to `account`.\\n     *\\n     * If `account` had not been already granted `role`, emits a {RoleGranted}\\n     * event.\\n     *\\n     * Requirements:\\n     *\\n     * - the caller must have ``role``'s admin role.\\n     *\\n     * May emit a {RoleGranted} event.\\n     */\\n    function grantRole(bytes32 role, address account) public virtual override onlyRole(getRoleAdmin(role)) {\\n        _grantRole(role, account);\\n    }\\n\\n    /**\\n     * @dev Revokes `role` from `account`.\\n     *\\n     * If `account` had been granted `role`, emits a {RoleRevoked} event.\\n     *\\n     * Requirements:\\n     *\\n     * - the caller must have ``role``'s admin role.\\n     *\\n     * May emit a {RoleRevoked} event.\\n     */\\n    function revokeRole(bytes32 role, address account) public virtual override onlyRole(getRoleAdmin(role)) {\\n        _revokeRole(role, account);\\n    }\\n\\n    /**\\n     * @dev Revokes `role` from the calling account.\\n     *\\n     * Roles are often managed via {grantRole} and {revokeRole}: this function's\\n     * purpose is to provide a mechanism for accounts to lose their privileges\\n     * if they are compromised (such as when a trusted device is misplaced).\\n     *\\n     * If the calling account had been revoked `role`, emits a {RoleRevoked}\\n     * event.\\n     *\\n     * Requirements:\\n     *\\n     * - the caller must be `account`.\\n     *\\n     * May emit a {RoleRevoked} event.\\n     */\\n    function renounceRole(bytes32 role, address account) public virtual override {\\n        require(account == _msgSender(), \\\"AccessControl: can only renounce roles for self\\\");\\n\\n        _revokeRole(role, account);\\n    }\\n\\n    /**\\n     * @dev Grants `role` to `account`.\\n     *\\n     * If `account` had not been already granted `role`, emits a {RoleGranted}\\n     * event. Note that unlike {grantRole}, this function doesn't perform any\\n     * checks on the calling account.\\n     *\\n     * May emit a {RoleGranted} event.\\n     *\\n     * [WARNING]\\n     * ====\\n     * This function should only be called from the constructor when setting\\n     * up the initial roles for the system.\\n     *\\n     * Using this function in any other way is effectively circumventing the admin\\n     * system imposed by {AccessControl}.\\n     * ====\\n     *\\n     * NOTE: This function is deprecated in favor of {_grantRole}.\\n     */\\n    function _setupRole(bytes32 role, address account) internal virtual {\\n        _grantRole(role, account);\\n    }\\n\\n    /**\\n     * @dev Sets `adminRole` as ``role``'s admin role.\\n     *\\n     * Emits a {RoleAdminChanged} event.\\n     */\\n    function _setRoleAdmin(bytes32 role, bytes32 adminRole) internal virtual {\\n        bytes32 previousAdminRole = getRoleAdmin(role);\\n        _roles[role].adminRole = adminRole;\\n        emit RoleAdminChanged(role, previousAdminRole, adminRole);\\n    }\\n\\n    /**\\n     * @dev Grants `role` to `account`.\\n     *\\n     * Internal function without access restriction.\\n     *\\n     * May emit a {RoleGranted} event.\\n     */\\n    function _grantRole(bytes32 role, address account) internal virtual {\\n        if (!hasRole(role, account)) {\\n            _roles[role].members[account] = true;\\n            emit RoleGranted(role, account, _msgSender());\\n        }\\n    }\\n\\n    /**\\n     * @dev Revokes `role` from `account`.\\n     *\\n     * Internal function without access restriction.\\n     *\\n     * May emit a {RoleRevoked} event.\\n     */\\n    function _revokeRole(bytes32 role, address account) internal virtual {\\n        if (hasRole(role, account)) {\\n            _roles[role].members[account] = false;\\n            emit RoleRevoked(role, account, _msgSender());\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x0dd6e52cb394d7f5abe5dca2d4908a6be40417914720932de757de34a99ab87f\",\"license\":\"MIT\"},\"@openzeppelin/contracts/access/IAccessControl.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (access/IAccessControl.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev External interface of AccessControl declared to support ERC165 detection.\\n */\\ninterface IAccessControl {\\n    /**\\n     * @dev Emitted when `newAdminRole` is set as ``role``'s admin role, replacing `previousAdminRole`\\n     *\\n     * `DEFAULT_ADMIN_ROLE` is the starting admin for all roles, despite\\n     * {RoleAdminChanged} not being emitted signaling this.\\n     *\\n     * _Available since v3.1._\\n     */\\n    event RoleAdminChanged(bytes32 indexed role, bytes32 indexed previousAdminRole, bytes32 indexed newAdminRole);\\n\\n    /**\\n     * @dev Emitted when `account` is granted `role`.\\n     *\\n     * `sender` is the account that originated the contract call, an admin role\\n     * bearer except when using {AccessControl-_setupRole}.\\n     */\\n    event RoleGranted(bytes32 indexed role, address indexed account, address indexed sender);\\n\\n    /**\\n     * @dev Emitted when `account` is revoked `role`.\\n     *\\n     * `sender` is the account that originated the contract call:\\n     *   - if using `revokeRole`, it is the admin role bearer\\n     *   - if using `renounceRole`, it is the role bearer (i.e. `account`)\\n     */\\n    event RoleRevoked(bytes32 indexed role, address indexed account, address indexed sender);\\n\\n    /**\\n     * @dev Returns `true` if `account` has been granted `role`.\\n     */\\n    function hasRole(bytes32 role, address account) external view returns (bool);\\n\\n    /**\\n     * @dev Returns the admin role that controls `role`. See {grantRole} and\\n     * {revokeRole}.\\n     *\\n     * To change a role's admin, use {AccessControl-_setRoleAdmin}.\\n     */\\n    function getRoleAdmin(bytes32 role) external view returns (bytes32);\\n\\n    /**\\n     * @dev Grants `role` to `account`.\\n     *\\n     * If `account` had not been already granted `role`, emits a {RoleGranted}\\n     * event.\\n     *\\n     * Requirements:\\n     *\\n     * - the caller must have ``role``'s admin role.\\n     */\\n    function grantRole(bytes32 role, address account) external;\\n\\n    /**\\n     * @dev Revokes `role` from `account`.\\n     *\\n     * If `account` had been granted `role`, emits a {RoleRevoked} event.\\n     *\\n     * Requirements:\\n     *\\n     * - the caller must have ``role``'s admin role.\\n     */\\n    function revokeRole(bytes32 role, address account) external;\\n\\n    /**\\n     * @dev Revokes `role` from the calling account.\\n     *\\n     * Roles are often managed via {grantRole} and {revokeRole}: this function's\\n     * purpose is to provide a mechanism for accounts to lose their privileges\\n     * if they are compromised (such as when a trusted device is misplaced).\\n     *\\n     * If the calling account had been granted `role`, emits a {RoleRevoked}\\n     * event.\\n     *\\n     * Requirements:\\n     *\\n     * - the caller must be `account`.\\n     */\\n    function renounceRole(bytes32 role, address account) external;\\n}\\n\",\"keccak256\":\"0x59ce320a585d7e1f163cd70390a0ef2ff9cec832e2aa544293a00692465a7a57\",\"license\":\"MIT\"},\"@openzeppelin/contracts/access/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (access/Ownable.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../utils/Context.sol\\\";\\n\\n/**\\n * @dev Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * By default, the owner account will be the one that deploys the contract. This\\n * can later be changed with {transferOwnership}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\nabstract contract Ownable is Context {\\n    address private _owner;\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /**\\n     * @dev Initializes the contract setting the deployer as the initial owner.\\n     */\\n    constructor() {\\n        _transferOwnership(_msgSender());\\n    }\\n\\n    /**\\n     * @dev Throws if called by any account other than the owner.\\n     */\\n    modifier onlyOwner() {\\n        _checkOwner();\\n        _;\\n    }\\n\\n    /**\\n     * @dev Returns the address of the current owner.\\n     */\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    /**\\n     * @dev Throws if the sender is not the owner.\\n     */\\n    function _checkOwner() internal view virtual {\\n        require(owner() == _msgSender(), \\\"Ownable: caller is not the owner\\\");\\n    }\\n\\n    /**\\n     * @dev Leaves the contract without owner. It will not be possible to call\\n     * `onlyOwner` functions. Can only be called by the current owner.\\n     *\\n     * NOTE: Renouncing ownership will leave the contract without an owner,\\n     * thereby disabling any functionality that is only available to the owner.\\n     */\\n    function renounceOwnership() public virtual onlyOwner {\\n        _transferOwnership(address(0));\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Can only be called by the current owner.\\n     */\\n    function transferOwnership(address newOwner) public virtual onlyOwner {\\n        require(newOwner != address(0), \\\"Ownable: new owner is the zero address\\\");\\n        _transferOwnership(newOwner);\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Internal function without access restriction.\\n     */\\n    function _transferOwnership(address newOwner) internal virtual {\\n        address oldOwner = _owner;\\n        _owner = newOwner;\\n        emit OwnershipTransferred(oldOwner, newOwner);\\n    }\\n}\\n\",\"keccak256\":\"0xba43b97fba0d32eb4254f6a5a297b39a19a247082a02d6e69349e071e2946218\",\"license\":\"MIT\"},\"@openzeppelin/contracts/security/ReentrancyGuard.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (security/ReentrancyGuard.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Contract module that helps prevent reentrant calls to a function.\\n *\\n * Inheriting from `ReentrancyGuard` will make the {nonReentrant} modifier\\n * available, which can be applied to functions to make sure there are no nested\\n * (reentrant) calls to them.\\n *\\n * Note that because there is a single `nonReentrant` guard, functions marked as\\n * `nonReentrant` may not call one another. This can be worked around by making\\n * those functions `private`, and then adding `external` `nonReentrant` entry\\n * points to them.\\n *\\n * TIP: If you would like to learn more about reentrancy and alternative ways\\n * to protect against it, check out our blog post\\n * https://blog.openzeppelin.com/reentrancy-after-istanbul/[Reentrancy After Istanbul].\\n */\\nabstract contract ReentrancyGuard {\\n    // Booleans are more expensive than uint256 or any type that takes up a full\\n    // word because each write operation emits an extra SLOAD to first read the\\n    // slot's contents, replace the bits taken up by the boolean, and then write\\n    // back. This is the compiler's defense against contract upgrades and\\n    // pointer aliasing, and it cannot be disabled.\\n\\n    // The values being non-zero value makes deployment a bit more expensive,\\n    // but in exchange the refund on every call to nonReentrant will be lower in\\n    // amount. Since refunds are capped to a percentage of the total\\n    // transaction's gas, it is best to keep them low in cases like this one, to\\n    // increase the likelihood of the full refund coming into effect.\\n    uint256 private constant _NOT_ENTERED = 1;\\n    uint256 private constant _ENTERED = 2;\\n\\n    uint256 private _status;\\n\\n    constructor() {\\n        _status = _NOT_ENTERED;\\n    }\\n\\n    /**\\n     * @dev Prevents a contract from calling itself, directly or indirectly.\\n     * Calling a `nonReentrant` function from another `nonReentrant`\\n     * function is not supported. It is possible to prevent this from happening\\n     * by making the `nonReentrant` function external, and making it call a\\n     * `private` function that does the actual work.\\n     */\\n    modifier nonReentrant() {\\n        _nonReentrantBefore();\\n        _;\\n        _nonReentrantAfter();\\n    }\\n\\n    function _nonReentrantBefore() private {\\n        // On the first call to nonReentrant, _status will be _NOT_ENTERED\\n        require(_status != _ENTERED, \\\"ReentrancyGuard: reentrant call\\\");\\n\\n        // Any calls to nonReentrant after this point will fail\\n        _status = _ENTERED;\\n    }\\n\\n    function _nonReentrantAfter() private {\\n        // By storing the original value once again, a refund is triggered (see\\n        // https://eips.ethereum.org/EIPS/eip-2200)\\n        _status = _NOT_ENTERED;\\n    }\\n\\n    /**\\n     * @dev Returns true if the reentrancy guard is currently set to \\\"entered\\\", which indicates there is a\\n     * `nonReentrant` function in the call stack.\\n     */\\n    function _reentrancyGuardEntered() internal view returns (bool) {\\n        return _status == _ENTERED;\\n    }\\n}\\n\",\"keccak256\":\"0xa535a5df777d44e945dd24aa43a11e44b024140fc340ad0dfe42acf4002aade1\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC1155/IERC1155Receiver.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.5.0) (token/ERC1155/IERC1155Receiver.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../../utils/introspection/IERC165.sol\\\";\\n\\n/**\\n * @dev _Available since v3.1._\\n */\\ninterface IERC1155Receiver is IERC165 {\\n    /**\\n     * @dev Handles the receipt of a single ERC1155 token type. This function is\\n     * called at the end of a `safeTransferFrom` after the balance has been updated.\\n     *\\n     * NOTE: To accept the transfer, this must return\\n     * `bytes4(keccak256(\\\"onERC1155Received(address,address,uint256,uint256,bytes)\\\"))`\\n     * (i.e. 0xf23a6e61, or its own function selector).\\n     *\\n     * @param operator The address which initiated the transfer (i.e. msg.sender)\\n     * @param from The address which previously owned the token\\n     * @param id The ID of the token being transferred\\n     * @param value The amount of tokens being transferred\\n     * @param data Additional data with no specified format\\n     * @return `bytes4(keccak256(\\\"onERC1155Received(address,address,uint256,uint256,bytes)\\\"))` if transfer is allowed\\n     */\\n    function onERC1155Received(\\n        address operator,\\n        address from,\\n        uint256 id,\\n        uint256 value,\\n        bytes calldata data\\n    ) external returns (bytes4);\\n\\n    /**\\n     * @dev Handles the receipt of a multiple ERC1155 token types. This function\\n     * is called at the end of a `safeBatchTransferFrom` after the balances have\\n     * been updated.\\n     *\\n     * NOTE: To accept the transfer(s), this must return\\n     * `bytes4(keccak256(\\\"onERC1155BatchReceived(address,address,uint256[],uint256[],bytes)\\\"))`\\n     * (i.e. 0xbc197c81, or its own function selector).\\n     *\\n     * @param operator The address which initiated the batch transfer (i.e. msg.sender)\\n     * @param from The address which previously owned the token\\n     * @param ids An array containing ids of each token being transferred (order and length must match values array)\\n     * @param values An array containing amounts of each token being transferred (order and length must match ids array)\\n     * @param data Additional data with no specified format\\n     * @return `bytes4(keccak256(\\\"onERC1155BatchReceived(address,address,uint256[],uint256[],bytes)\\\"))` if transfer is allowed\\n     */\\n    function onERC1155BatchReceived(\\n        address operator,\\n        address from,\\n        uint256[] calldata ids,\\n        uint256[] calldata values,\\n        bytes calldata data\\n    ) external returns (bytes4);\\n}\\n\",\"keccak256\":\"0xeb373f1fdc7b755c6a750123a9b9e3a8a02c1470042fd6505d875000a80bde0b\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC1155/utils/ERC1155Holder.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.5.0) (token/ERC1155/utils/ERC1155Holder.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./ERC1155Receiver.sol\\\";\\n\\n/**\\n * Simple implementation of `ERC1155Receiver` that will allow a contract to hold ERC1155 tokens.\\n *\\n * IMPORTANT: When inheriting this contract, you must include a way to use the received tokens, otherwise they will be\\n * stuck.\\n *\\n * @dev _Available since v3.1._\\n */\\ncontract ERC1155Holder is ERC1155Receiver {\\n    function onERC1155Received(\\n        address,\\n        address,\\n        uint256,\\n        uint256,\\n        bytes memory\\n    ) public virtual override returns (bytes4) {\\n        return this.onERC1155Received.selector;\\n    }\\n\\n    function onERC1155BatchReceived(\\n        address,\\n        address,\\n        uint256[] memory,\\n        uint256[] memory,\\n        bytes memory\\n    ) public virtual override returns (bytes4) {\\n        return this.onERC1155BatchReceived.selector;\\n    }\\n}\\n\",\"keccak256\":\"0x2e024ca51ce5abe16c0d34e6992a1104f356e2244eb4ccbec970435e8b3405e3\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC1155/utils/ERC1155Receiver.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (token/ERC1155/utils/ERC1155Receiver.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../IERC1155Receiver.sol\\\";\\nimport \\\"../../../utils/introspection/ERC165.sol\\\";\\n\\n/**\\n * @dev _Available since v3.1._\\n */\\nabstract contract ERC1155Receiver is ERC165, IERC1155Receiver {\\n    /**\\n     * @dev See {IERC165-supportsInterface}.\\n     */\\n    function supportsInterface(bytes4 interfaceId) public view virtual override(ERC165, IERC165) returns (bool) {\\n        return interfaceId == type(IERC1155Receiver).interfaceId || super.supportsInterface(interfaceId);\\n    }\\n}\\n\",\"keccak256\":\"0x3dd5e1a66a56f30302108a1da97d677a42b1daa60e503696b2bcbbf3e4c95bcb\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC721/IERC721Receiver.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.6.0) (token/ERC721/IERC721Receiver.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @title ERC721 token receiver interface\\n * @dev Interface for any contract that wants to support safeTransfers\\n * from ERC721 asset contracts.\\n */\\ninterface IERC721Receiver {\\n    /**\\n     * @dev Whenever an {IERC721} `tokenId` token is transferred to this contract via {IERC721-safeTransferFrom}\\n     * by `operator` from `from`, this function is called.\\n     *\\n     * It must return its Solidity selector to confirm the token transfer.\\n     * If any other value is returned or the interface is not implemented by the recipient, the transfer will be reverted.\\n     *\\n     * The selector can be obtained in Solidity with `IERC721Receiver.onERC721Received.selector`.\\n     */\\n    function onERC721Received(\\n        address operator,\\n        address from,\\n        uint256 tokenId,\\n        bytes calldata data\\n    ) external returns (bytes4);\\n}\\n\",\"keccak256\":\"0xa82b58eca1ee256be466e536706850163d2ec7821945abd6b4778cfb3bee37da\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC721/utils/ERC721Holder.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (token/ERC721/utils/ERC721Holder.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../IERC721Receiver.sol\\\";\\n\\n/**\\n * @dev Implementation of the {IERC721Receiver} interface.\\n *\\n * Accepts all token transfers.\\n * Make sure the contract is able to use its token with {IERC721-safeTransferFrom}, {IERC721-approve} or {IERC721-setApprovalForAll}.\\n */\\ncontract ERC721Holder is IERC721Receiver {\\n    /**\\n     * @dev See {IERC721Receiver-onERC721Received}.\\n     *\\n     * Always returns `IERC721Receiver.onERC721Received.selector`.\\n     */\\n    function onERC721Received(address, address, uint256, bytes memory) public virtual override returns (bytes4) {\\n        return this.onERC721Received.selector;\\n    }\\n}\\n\",\"keccak256\":\"0x67ef46fef257faae47adb630aad49694dda0334e5f7a7c5fb386243b974886b5\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Context.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (utils/Context.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Provides information about the current execution context, including the\\n * sender of the transaction and its data. While these are generally available\\n * via msg.sender and msg.data, they should not be accessed in such a direct\\n * manner, since when dealing with meta-transactions the account sending and\\n * paying for execution may not be the actual sender (as far as an application\\n * is concerned).\\n *\\n * This contract is only required for intermediate, library-like contracts.\\n */\\nabstract contract Context {\\n    function _msgSender() internal view virtual returns (address) {\\n        return msg.sender;\\n    }\\n\\n    function _msgData() internal view virtual returns (bytes calldata) {\\n        return msg.data;\\n    }\\n}\\n\",\"keccak256\":\"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Create2.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (utils/Create2.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Helper to make usage of the `CREATE2` EVM opcode easier and safer.\\n * `CREATE2` can be used to compute in advance the address where a smart\\n * contract will be deployed, which allows for interesting new mechanisms known\\n * as 'counterfactual interactions'.\\n *\\n * See the https://eips.ethereum.org/EIPS/eip-1014#motivation[EIP] for more\\n * information.\\n */\\nlibrary Create2 {\\n    /**\\n     * @dev Deploys a contract using `CREATE2`. The address where the contract\\n     * will be deployed can be known in advance via {computeAddress}.\\n     *\\n     * The bytecode for a contract can be obtained from Solidity with\\n     * `type(contractName).creationCode`.\\n     *\\n     * Requirements:\\n     *\\n     * - `bytecode` must not be empty.\\n     * - `salt` must have not been used for `bytecode` already.\\n     * - the factory must have a balance of at least `amount`.\\n     * - if `amount` is non-zero, `bytecode` must have a `payable` constructor.\\n     */\\n    function deploy(uint256 amount, bytes32 salt, bytes memory bytecode) internal returns (address addr) {\\n        require(address(this).balance >= amount, \\\"Create2: insufficient balance\\\");\\n        require(bytecode.length != 0, \\\"Create2: bytecode length is zero\\\");\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            addr := create2(amount, add(bytecode, 0x20), mload(bytecode), salt)\\n        }\\n        require(addr != address(0), \\\"Create2: Failed on deploy\\\");\\n    }\\n\\n    /**\\n     * @dev Returns the address where a contract will be stored if deployed via {deploy}. Any change in the\\n     * `bytecodeHash` or `salt` will result in a new destination address.\\n     */\\n    function computeAddress(bytes32 salt, bytes32 bytecodeHash) internal view returns (address) {\\n        return computeAddress(salt, bytecodeHash, address(this));\\n    }\\n\\n    /**\\n     * @dev Returns the address where a contract will be stored if deployed via {deploy} from a contract located at\\n     * `deployer`. If `deployer` is this contract's address, returns the same value as {computeAddress}.\\n     */\\n    function computeAddress(bytes32 salt, bytes32 bytecodeHash, address deployer) internal pure returns (address addr) {\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            let ptr := mload(0x40) // Get free memory pointer\\n\\n            // |                   | \\u2193 ptr ...  \\u2193 ptr + 0x0B (start) ...  \\u2193 ptr + 0x20 ...  \\u2193 ptr + 0x40 ...   |\\n            // |-------------------|---------------------------------------------------------------------------|\\n            // | bytecodeHash      |                                                        CCCCCCCCCCCCC...CC |\\n            // | salt              |                                      BBBBBBBBBBBBB...BB                   |\\n            // | deployer          | 000000...0000AAAAAAAAAAAAAAAAAAA...AA                                     |\\n            // | 0xFF              |            FF                                                             |\\n            // |-------------------|---------------------------------------------------------------------------|\\n            // | memory            | 000000...00FFAAAAAAAAAAAAAAAAAAA...AABBBBBBBBBBBBB...BBCCCCCCCCCCCCC...CC |\\n            // | keccak(start, 85) |            \\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191\\u2191 |\\n\\n            mstore(add(ptr, 0x40), bytecodeHash)\\n            mstore(add(ptr, 0x20), salt)\\n            mstore(ptr, deployer) // Right-aligned with 12 preceding garbage bytes\\n            let start := add(ptr, 0x0b) // The hashed data starts at the final garbage byte which we will set to 0xff\\n            mstore8(start, 0xff)\\n            addr := keccak256(start, 85)\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x6e00f269073ffc4350e56b7e8153c9092d5f70bfba423299990514183101ef89\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Strings.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (utils/Strings.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./math/Math.sol\\\";\\nimport \\\"./math/SignedMath.sol\\\";\\n\\n/**\\n * @dev String operations.\\n */\\nlibrary Strings {\\n    bytes16 private constant _SYMBOLS = \\\"0123456789abcdef\\\";\\n    uint8 private constant _ADDRESS_LENGTH = 20;\\n\\n    /**\\n     * @dev Converts a `uint256` to its ASCII `string` decimal representation.\\n     */\\n    function toString(uint256 value) internal pure returns (string memory) {\\n        unchecked {\\n            uint256 length = Math.log10(value) + 1;\\n            string memory buffer = new string(length);\\n            uint256 ptr;\\n            /// @solidity memory-safe-assembly\\n            assembly {\\n                ptr := add(buffer, add(32, length))\\n            }\\n            while (true) {\\n                ptr--;\\n                /// @solidity memory-safe-assembly\\n                assembly {\\n                    mstore8(ptr, byte(mod(value, 10), _SYMBOLS))\\n                }\\n                value /= 10;\\n                if (value == 0) break;\\n            }\\n            return buffer;\\n        }\\n    }\\n\\n    /**\\n     * @dev Converts a `int256` to its ASCII `string` decimal representation.\\n     */\\n    function toString(int256 value) internal pure returns (string memory) {\\n        return string(abi.encodePacked(value < 0 ? \\\"-\\\" : \\\"\\\", toString(SignedMath.abs(value))));\\n    }\\n\\n    /**\\n     * @dev Converts a `uint256` to its ASCII `string` hexadecimal representation.\\n     */\\n    function toHexString(uint256 value) internal pure returns (string memory) {\\n        unchecked {\\n            return toHexString(value, Math.log256(value) + 1);\\n        }\\n    }\\n\\n    /**\\n     * @dev Converts a `uint256` to its ASCII `string` hexadecimal representation with fixed length.\\n     */\\n    function toHexString(uint256 value, uint256 length) internal pure returns (string memory) {\\n        bytes memory buffer = new bytes(2 * length + 2);\\n        buffer[0] = \\\"0\\\";\\n        buffer[1] = \\\"x\\\";\\n        for (uint256 i = 2 * length + 1; i > 1; --i) {\\n            buffer[i] = _SYMBOLS[value & 0xf];\\n            value >>= 4;\\n        }\\n        require(value == 0, \\\"Strings: hex length insufficient\\\");\\n        return string(buffer);\\n    }\\n\\n    /**\\n     * @dev Converts an `address` with fixed length of 20 bytes to its not checksummed ASCII `string` hexadecimal representation.\\n     */\\n    function toHexString(address addr) internal pure returns (string memory) {\\n        return toHexString(uint256(uint160(addr)), _ADDRESS_LENGTH);\\n    }\\n\\n    /**\\n     * @dev Returns true if the two strings are equal.\\n     */\\n    function equal(string memory a, string memory b) internal pure returns (bool) {\\n        return keccak256(bytes(a)) == keccak256(bytes(b));\\n    }\\n}\\n\",\"keccak256\":\"0x3088eb2868e8d13d89d16670b5f8612c4ab9ff8956272837d8e90106c59c14a0\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/introspection/ERC165.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (utils/introspection/ERC165.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IERC165.sol\\\";\\n\\n/**\\n * @dev Implementation of the {IERC165} interface.\\n *\\n * Contracts that want to implement ERC165 should inherit from this contract and override {supportsInterface} to check\\n * for the additional interface id that will be supported. For example:\\n *\\n * ```solidity\\n * function supportsInterface(bytes4 interfaceId) public view virtual override returns (bool) {\\n *     return interfaceId == type(MyInterface).interfaceId || super.supportsInterface(interfaceId);\\n * }\\n * ```\\n *\\n * Alternatively, {ERC165Storage} provides an easier to use but more expensive implementation.\\n */\\nabstract contract ERC165 is IERC165 {\\n    /**\\n     * @dev See {IERC165-supportsInterface}.\\n     */\\n    function supportsInterface(bytes4 interfaceId) public view virtual override returns (bool) {\\n        return interfaceId == type(IERC165).interfaceId;\\n    }\\n}\\n\",\"keccak256\":\"0xd10975de010d89fd1c78dc5e8a9a7e7f496198085c151648f20cba166b32582b\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/introspection/IERC165.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (utils/introspection/IERC165.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC165 standard, as defined in the\\n * https://eips.ethereum.org/EIPS/eip-165[EIP].\\n *\\n * Implementers can declare support of contract interfaces, which can then be\\n * queried by others ({ERC165Checker}).\\n *\\n * For an implementation, see {ERC165}.\\n */\\ninterface IERC165 {\\n    /**\\n     * @dev Returns true if this contract implements the interface defined by\\n     * `interfaceId`. See the corresponding\\n     * https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified[EIP section]\\n     * to learn more about how these ids are created.\\n     *\\n     * This function call must use less than 30 000 gas.\\n     */\\n    function supportsInterface(bytes4 interfaceId) external view returns (bool);\\n}\\n\",\"keccak256\":\"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/math/Math.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (utils/math/Math.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Standard math utilities missing in the Solidity language.\\n */\\nlibrary Math {\\n    enum Rounding {\\n        Down, // Toward negative infinity\\n        Up, // Toward infinity\\n        Zero // Toward zero\\n    }\\n\\n    /**\\n     * @dev Returns the largest of two numbers.\\n     */\\n    function max(uint256 a, uint256 b) internal pure returns (uint256) {\\n        return a > b ? a : b;\\n    }\\n\\n    /**\\n     * @dev Returns the smallest of two numbers.\\n     */\\n    function min(uint256 a, uint256 b) internal pure returns (uint256) {\\n        return a < b ? a : b;\\n    }\\n\\n    /**\\n     * @dev Returns the average of two numbers. The result is rounded towards\\n     * zero.\\n     */\\n    function average(uint256 a, uint256 b) internal pure returns (uint256) {\\n        // (a + b) / 2 can overflow.\\n        return (a & b) + (a ^ b) / 2;\\n    }\\n\\n    /**\\n     * @dev Returns the ceiling of the division of two numbers.\\n     *\\n     * This differs from standard division with `/` in that it rounds up instead\\n     * of rounding down.\\n     */\\n    function ceilDiv(uint256 a, uint256 b) internal pure returns (uint256) {\\n        // (a + b - 1) / b can overflow on addition, so we distribute.\\n        return a == 0 ? 0 : (a - 1) / b + 1;\\n    }\\n\\n    /**\\n     * @notice Calculates floor(x * y / denominator) with full precision. Throws if result overflows a uint256 or denominator == 0\\n     * @dev Original credit to Remco Bloemen under MIT license (https://xn--2-umb.com/21/muldiv)\\n     * with further edits by Uniswap Labs also under MIT license.\\n     */\\n    function mulDiv(uint256 x, uint256 y, uint256 denominator) internal pure returns (uint256 result) {\\n        unchecked {\\n            // 512-bit multiply [prod1 prod0] = x * y. Compute the product mod 2^256 and mod 2^256 - 1, then use\\n            // use the Chinese Remainder Theorem to reconstruct the 512 bit result. The result is stored in two 256\\n            // variables such that product = prod1 * 2^256 + prod0.\\n            uint256 prod0; // Least significant 256 bits of the product\\n            uint256 prod1; // Most significant 256 bits of the product\\n            assembly {\\n                let mm := mulmod(x, y, not(0))\\n                prod0 := mul(x, y)\\n                prod1 := sub(sub(mm, prod0), lt(mm, prod0))\\n            }\\n\\n            // Handle non-overflow cases, 256 by 256 division.\\n            if (prod1 == 0) {\\n                // Solidity will revert if denominator == 0, unlike the div opcode on its own.\\n                // The surrounding unchecked block does not change this fact.\\n                // See https://docs.soliditylang.org/en/latest/control-structures.html#checked-or-unchecked-arithmetic.\\n                return prod0 / denominator;\\n            }\\n\\n            // Make sure the result is less than 2^256. Also prevents denominator == 0.\\n            require(denominator > prod1, \\\"Math: mulDiv overflow\\\");\\n\\n            ///////////////////////////////////////////////\\n            // 512 by 256 division.\\n            ///////////////////////////////////////////////\\n\\n            // Make division exact by subtracting the remainder from [prod1 prod0].\\n            uint256 remainder;\\n            assembly {\\n                // Compute remainder using mulmod.\\n                remainder := mulmod(x, y, denominator)\\n\\n                // Subtract 256 bit number from 512 bit number.\\n                prod1 := sub(prod1, gt(remainder, prod0))\\n                prod0 := sub(prod0, remainder)\\n            }\\n\\n            // Factor powers of two out of denominator and compute largest power of two divisor of denominator. Always >= 1.\\n            // See https://cs.stackexchange.com/q/138556/92363.\\n\\n            // Does not overflow because the denominator cannot be zero at this stage in the function.\\n            uint256 twos = denominator & (~denominator + 1);\\n            assembly {\\n                // Divide denominator by twos.\\n                denominator := div(denominator, twos)\\n\\n                // Divide [prod1 prod0] by twos.\\n                prod0 := div(prod0, twos)\\n\\n                // Flip twos such that it is 2^256 / twos. If twos is zero, then it becomes one.\\n                twos := add(div(sub(0, twos), twos), 1)\\n            }\\n\\n            // Shift in bits from prod1 into prod0.\\n            prod0 |= prod1 * twos;\\n\\n            // Invert denominator mod 2^256. Now that denominator is an odd number, it has an inverse modulo 2^256 such\\n            // that denominator * inv = 1 mod 2^256. Compute the inverse by starting with a seed that is correct for\\n            // four bits. That is, denominator * inv = 1 mod 2^4.\\n            uint256 inverse = (3 * denominator) ^ 2;\\n\\n            // Use the Newton-Raphson iteration to improve the precision. Thanks to Hensel's lifting lemma, this also works\\n            // in modular arithmetic, doubling the correct bits in each step.\\n            inverse *= 2 - denominator * inverse; // inverse mod 2^8\\n            inverse *= 2 - denominator * inverse; // inverse mod 2^16\\n            inverse *= 2 - denominator * inverse; // inverse mod 2^32\\n            inverse *= 2 - denominator * inverse; // inverse mod 2^64\\n            inverse *= 2 - denominator * inverse; // inverse mod 2^128\\n            inverse *= 2 - denominator * inverse; // inverse mod 2^256\\n\\n            // Because the division is now exact we can divide by multiplying with the modular inverse of denominator.\\n            // This will give us the correct result modulo 2^256. Since the preconditions guarantee that the outcome is\\n            // less than 2^256, this is the final result. We don't need to compute the high bits of the result and prod1\\n            // is no longer required.\\n            result = prod0 * inverse;\\n            return result;\\n        }\\n    }\\n\\n    /**\\n     * @notice Calculates x * y / denominator with full precision, following the selected rounding direction.\\n     */\\n    function mulDiv(uint256 x, uint256 y, uint256 denominator, Rounding rounding) internal pure returns (uint256) {\\n        uint256 result = mulDiv(x, y, denominator);\\n        if (rounding == Rounding.Up && mulmod(x, y, denominator) > 0) {\\n            result += 1;\\n        }\\n        return result;\\n    }\\n\\n    /**\\n     * @dev Returns the square root of a number. If the number is not a perfect square, the value is rounded down.\\n     *\\n     * Inspired by Henry S. Warren, Jr.'s \\\"Hacker's Delight\\\" (Chapter 11).\\n     */\\n    function sqrt(uint256 a) internal pure returns (uint256) {\\n        if (a == 0) {\\n            return 0;\\n        }\\n\\n        // For our first guess, we get the biggest power of 2 which is smaller than the square root of the target.\\n        //\\n        // We know that the \\\"msb\\\" (most significant bit) of our target number `a` is a power of 2 such that we have\\n        // `msb(a) <= a < 2*msb(a)`. This value can be written `msb(a)=2**k` with `k=log2(a)`.\\n        //\\n        // This can be rewritten `2**log2(a) <= a < 2**(log2(a) + 1)`\\n        // \\u2192 `sqrt(2**k) <= sqrt(a) < sqrt(2**(k+1))`\\n        // \\u2192 `2**(k/2) <= sqrt(a) < 2**((k+1)/2) <= 2**(k/2 + 1)`\\n        //\\n        // Consequently, `2**(log2(a) / 2)` is a good first approximation of `sqrt(a)` with at least 1 correct bit.\\n        uint256 result = 1 << (log2(a) >> 1);\\n\\n        // At this point `result` is an estimation with one bit of precision. We know the true value is a uint128,\\n        // since it is the square root of a uint256. Newton's method converges quadratically (precision doubles at\\n        // every iteration). We thus need at most 7 iteration to turn our partial result with one bit of precision\\n        // into the expected uint128 result.\\n        unchecked {\\n            result = (result + a / result) >> 1;\\n            result = (result + a / result) >> 1;\\n            result = (result + a / result) >> 1;\\n            result = (result + a / result) >> 1;\\n            result = (result + a / result) >> 1;\\n            result = (result + a / result) >> 1;\\n            result = (result + a / result) >> 1;\\n            return min(result, a / result);\\n        }\\n    }\\n\\n    /**\\n     * @notice Calculates sqrt(a), following the selected rounding direction.\\n     */\\n    function sqrt(uint256 a, Rounding rounding) internal pure returns (uint256) {\\n        unchecked {\\n            uint256 result = sqrt(a);\\n            return result + (rounding == Rounding.Up && result * result < a ? 1 : 0);\\n        }\\n    }\\n\\n    /**\\n     * @dev Return the log in base 2, rounded down, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n    function log2(uint256 value) internal pure returns (uint256) {\\n        uint256 result = 0;\\n        unchecked {\\n            if (value >> 128 > 0) {\\n                value >>= 128;\\n                result += 128;\\n            }\\n            if (value >> 64 > 0) {\\n                value >>= 64;\\n                result += 64;\\n            }\\n            if (value >> 32 > 0) {\\n                value >>= 32;\\n                result += 32;\\n            }\\n            if (value >> 16 > 0) {\\n                value >>= 16;\\n                result += 16;\\n            }\\n            if (value >> 8 > 0) {\\n                value >>= 8;\\n                result += 8;\\n            }\\n            if (value >> 4 > 0) {\\n                value >>= 4;\\n                result += 4;\\n            }\\n            if (value >> 2 > 0) {\\n                value >>= 2;\\n                result += 2;\\n            }\\n            if (value >> 1 > 0) {\\n                result += 1;\\n            }\\n        }\\n        return result;\\n    }\\n\\n    /**\\n     * @dev Return the log in base 2, following the selected rounding direction, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n    function log2(uint256 value, Rounding rounding) internal pure returns (uint256) {\\n        unchecked {\\n            uint256 result = log2(value);\\n            return result + (rounding == Rounding.Up && 1 << result < value ? 1 : 0);\\n        }\\n    }\\n\\n    /**\\n     * @dev Return the log in base 10, rounded down, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n    function log10(uint256 value) internal pure returns (uint256) {\\n        uint256 result = 0;\\n        unchecked {\\n            if (value >= 10 ** 64) {\\n                value /= 10 ** 64;\\n                result += 64;\\n            }\\n            if (value >= 10 ** 32) {\\n                value /= 10 ** 32;\\n                result += 32;\\n            }\\n            if (value >= 10 ** 16) {\\n                value /= 10 ** 16;\\n                result += 16;\\n            }\\n            if (value >= 10 ** 8) {\\n                value /= 10 ** 8;\\n                result += 8;\\n            }\\n            if (value >= 10 ** 4) {\\n                value /= 10 ** 4;\\n                result += 4;\\n            }\\n            if (value >= 10 ** 2) {\\n                value /= 10 ** 2;\\n                result += 2;\\n            }\\n            if (value >= 10 ** 1) {\\n                result += 1;\\n            }\\n        }\\n        return result;\\n    }\\n\\n    /**\\n     * @dev Return the log in base 10, following the selected rounding direction, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n    function log10(uint256 value, Rounding rounding) internal pure returns (uint256) {\\n        unchecked {\\n            uint256 result = log10(value);\\n            return result + (rounding == Rounding.Up && 10 ** result < value ? 1 : 0);\\n        }\\n    }\\n\\n    /**\\n     * @dev Return the log in base 256, rounded down, of a positive value.\\n     * Returns 0 if given 0.\\n     *\\n     * Adding one to the result gives the number of pairs of hex symbols needed to represent `value` as a hex string.\\n     */\\n    function log256(uint256 value) internal pure returns (uint256) {\\n        uint256 result = 0;\\n        unchecked {\\n            if (value >> 128 > 0) {\\n                value >>= 128;\\n                result += 16;\\n            }\\n            if (value >> 64 > 0) {\\n                value >>= 64;\\n                result += 8;\\n            }\\n            if (value >> 32 > 0) {\\n                value >>= 32;\\n                result += 4;\\n            }\\n            if (value >> 16 > 0) {\\n                value >>= 16;\\n                result += 2;\\n            }\\n            if (value >> 8 > 0) {\\n                result += 1;\\n            }\\n        }\\n        return result;\\n    }\\n\\n    /**\\n     * @dev Return the log in base 256, following the selected rounding direction, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n    function log256(uint256 value, Rounding rounding) internal pure returns (uint256) {\\n        unchecked {\\n            uint256 result = log256(value);\\n            return result + (rounding == Rounding.Up && 1 << (result << 3) < value ? 1 : 0);\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xe4455ac1eb7fc497bb7402579e7b4d64d928b846fce7d2b6fde06d366f21c2b3\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/math/SignedMath.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.8.0) (utils/math/SignedMath.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Standard signed math utilities missing in the Solidity language.\\n */\\nlibrary SignedMath {\\n    /**\\n     * @dev Returns the largest of two signed numbers.\\n     */\\n    function max(int256 a, int256 b) internal pure returns (int256) {\\n        return a > b ? a : b;\\n    }\\n\\n    /**\\n     * @dev Returns the smallest of two signed numbers.\\n     */\\n    function min(int256 a, int256 b) internal pure returns (int256) {\\n        return a < b ? a : b;\\n    }\\n\\n    /**\\n     * @dev Returns the average of two signed numbers without overflow.\\n     * The result is rounded towards zero.\\n     */\\n    function average(int256 a, int256 b) internal pure returns (int256) {\\n        // Formula from the book \\\"Hacker's Delight\\\"\\n        int256 x = (a & b) + ((a ^ b) >> 1);\\n        return x + (int256(uint256(x) >> 255) & (a ^ b));\\n    }\\n\\n    /**\\n     * @dev Returns the absolute unsigned value of a signed value.\\n     */\\n    function abs(int256 n) internal pure returns (uint256) {\\n        unchecked {\\n            // must be unchecked in order to support `n = type(int256).min`\\n            return uint256(n >= 0 ? n : -n);\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xf92515413956f529d95977adc9b0567d583c6203fc31ab1c23824c35187e3ddc\",\"license\":\"MIT\"},\"contracts/deploy/ControlledDAppFactory.sol\":{\"content\":\"// SPDX-License-Identifier: Apache-2.0\\n/// @title Controlled DApp Factory\\npragma solidity ^0.8.13;\\n\\nimport {AccessControl} from \\\"@openzeppelin/contracts/access/AccessControl.sol\\\";\\nimport {IConsensus} from \\\"@cartesi/rollups/contracts/consensus/IConsensus.sol\\\";\\nimport {ICartesiDAppFactory} from \\\"@cartesi/rollups/contracts/dapp/CartesiDAppFactory.sol\\\";\\nimport {CartesiDApp} from \\\"@cartesi/rollups/contracts/dapp/CartesiDApp.sol\\\";\\nimport {CartesiIPFSDAppFactory} from \\\"../factory/CartesiIPFSDAppFactory.sol\\\";\\nimport {IFinancialProtocol} from \\\"../protocol/IFinancialProtocol.sol\\\";\\n\\n/// @notice This dapp factory implements the IFinancialProtocol with total control over the execution of the validator.\\n/// @dev This can be used for test scenarios, where you can manuall start and stop the validator by sending a transaction.\\ncontract ControlledDAppFactory is\\n    AccessControl,\\n    CartesiIPFSDAppFactory,\\n    IFinancialProtocol\\n{\\n    /// Create a new role identifier for the controller role, they can start/stop dapps\\n    bytes32 public constant CONTROLLER_ROLE = keccak256(\\\"CONTROLLER_ROLE\\\");\\n\\n    constructor(ICartesiDAppFactory _factory) CartesiIPFSDAppFactory(_factory) {\\n        _grantRole(CONTROLLER_ROLE, msg.sender);\\n    }\\n\\n    function start(address _dapp) external onlyRole(CONTROLLER_ROLE) {\\n        // emits event to run the node\\n        emit FinancialRunway(block.chainid, _dapp, type(uint256).max);\\n    }\\n\\n    function stop(address _dapp) external onlyRole(CONTROLLER_ROLE) {\\n        // emits event to stop the node\\n        emit FinancialRunway(block.chainid, _dapp, block.timestamp);\\n    }\\n}\\n\",\"keccak256\":\"0x4fbbc57da20783a6d89ae68e493b4c2ec04fc0fae36b1b6ef2c953e1b3c74951\",\"license\":\"Apache-2.0\"},\"contracts/factory/CartesiIPFSDAppFactory.sol\":{\"content\":\"// SPDX-License-Identifier: Apache-2.0\\n/// @title IPFS DApp Factory implementation\\npragma solidity ^0.8.13;\\n\\nimport {ICartesiDAppFactory} from \\\"@cartesi/rollups/contracts/dapp/CartesiDAppFactory.sol\\\";\\nimport {IConsensus} from \\\"@cartesi/rollups/contracts/consensus/IConsensus.sol\\\";\\nimport {CartesiDApp} from \\\"@cartesi/rollups/contracts/dapp/CartesiDApp.sol\\\";\\nimport {IMachineProtocol} from \\\"../protocol/IMachineProtocol.sol\\\";\\nimport {ICartesiIPFSDAppFactory} from \\\"./ICartesiIPFSDAppFactory.sol\\\";\\n\\ncontract CartesiIPFSDAppFactory is ICartesiIPFSDAppFactory, IMachineProtocol {\\n    ICartesiDAppFactory immutable factory;\\n\\n    constructor(ICartesiDAppFactory _factory) {\\n        factory = _factory;\\n    }\\n\\n    /// @notice Instantiate a new dapp, including the IPFS CID information for the cartesi machine snapshot\\n    /// @dev This function delegates the construction of the dapp to a ICartesiDAppFactory, and emits an event with\\n    /// the IPFS CID of the snapshot of the corresponding machine. There is no validation onchain that the machine stored\\n    /// at IPFS matches the specified templateHash. This information will only be verified offchain when the dapp node\\n    /// start executing\\n    /// @param _consensus The consensus to which the DApp should be subscribed\\n    /// @param _dappOwner The address that should own the DApp\\n    /// @param _templateHash The hash of the initial state of the Cartesi Machine\\n    /// @param _cid The IPFS CID of the cartesi machine snapshot\\n    /// @return The application\\n    function newApplication(\\n        IConsensus _consensus,\\n        address _dappOwner,\\n        bytes32 _templateHash,\\n        string memory _cid\\n    ) external override returns (CartesiDApp) {\\n        // delegate call to factory\\n        CartesiDApp dapp = factory.newApplication(\\n            _consensus,\\n            _dappOwner,\\n            _templateHash\\n        );\\n\\n        // emit event to bind CID to application\\n        emit MachineLocation(block.chainid, address(dapp), _cid);\\n\\n        // return application\\n        return dapp;\\n    }\\n}\\n\",\"keccak256\":\"0x339f99abd87f87ccc8fe6346156efbcb82651fb408dc4c4548f8968686275434\",\"license\":\"Apache-2.0\"},\"contracts/factory/ICartesiIPFSDAppFactory.sol\":{\"content\":\"// SPDX-License-Identifier: Apache-2.0\\n/// @title IPFS DApp Factory interface\\npragma solidity ^0.8.13;\\n\\nimport {CartesiDApp} from \\\"@cartesi/rollups/contracts/dapp/CartesiDApp.sol\\\";\\nimport {IConsensus} from \\\"@cartesi/rollups/contracts/consensus/IConsensus.sol\\\";\\n\\n/// @notice Interface that wraps the ICartesiDAppFactory and adds the IPFS CID information to the dapp\\n/// instantiation process\\ninterface ICartesiIPFSDAppFactory {\\n    // Permissionless functions\\n\\n    /// @notice Deploy a new application\\n    /// @dev Adds an IPFS CID parameter to the original ICartesiDAppFactory interface\\n    /// @param _consensus The consensus to which the DApp should be subscribed\\n    /// @param _dappOwner The address that should own the DApp\\n    /// @param _templateHash The hash of the initial state of the Cartesi Machine\\n    /// @param _cid The IPFS CID of the cartesi machine snapshot\\n    /// @return The application\\n    function newApplication(\\n        IConsensus _consensus,\\n        address _dappOwner,\\n        bytes32 _templateHash,\\n        string memory _cid\\n    ) external returns (CartesiDApp);\\n}\\n\",\"keccak256\":\"0xbf6e27bc7954c94440cb78c631cb9e34116ccf049205d3047d3ed9a45d57a51f\",\"license\":\"Apache-2.0\"},\"contracts/protocol/IFinancialProtocol.sol\":{\"content\":\"// SPDX-License-Identifier: Apache-2.0\\n/// @title DApp Financial Protocol\\npragma solidity ^0.8.13;\\n\\n/// @notice Interface that should be implemented by any contract which dictates the financial incentives\\n/// of the execution of validator nodes for Cartesi DApps.\\ninterface IFinancialProtocol {\\n    // Events\\n\\n    /// @notice Signals until when a dapp has enough funds to be validated\\n    /// @dev This event signals until when the validator node for the dapp should be running.\\n    /// The offchain implementation which controls the execution of validator nodes is free\\n    /// to choose which implementation contracts they will rely on for this information.\\n    /// The dapp can be deployed on a different network than the one this event is emitted on.\\n    /// @param chainid The chainid of the network the dapp is deployed\\n    /// @param dapp The dapp address\\n    /// @param until The point in time when the dapp will run out of funds (seconds since epoch)\\n    event FinancialRunway(uint256 chainid, address dapp, uint256 until);\\n}\\n\",\"keccak256\":\"0x1c61432f7205a073a100a76a4479013f9464c2afb38474fce57bc0611c622a0c\",\"license\":\"Apache-2.0\"},\"contracts/protocol/IMachineProtocol.sol\":{\"content\":\"// SPDX-License-Identifier: Apache-2.0\\n/// @title Cartesi Machine Protocol\\npragma solidity ^0.8.13;\\n\\n/// @notice Interface that should be implemented by any contract which controls the association\\n/// of a deployed Cartesi DApp to its offchain Cartesi Machine snapshot.\\ninterface IMachineProtocol {\\n    // Events\\n\\n    /// @notice Signals the association of a dapp to its offchain Cartesi Machine\\n    /// @dev This event signals the association of an onchain deployed Cartesi DApp to the offchain location of the\\n    /// snapshot of the Cartesi machine corresponding to the template hash stored onchain. The format or protocol of\\n    /// the location field is not enforced onchain and can follow any format, like a URL or an IPFS CID.\\n    /// The dapp can be deployed on a different network than the one this event is emitted on.\\n    /// @param chainid The chainid of the network the dapp is deployed\\n    /// @param dapp The dapp address\\n    /// @param location The storage location of the cartesi machine snapshot\\n    event MachineLocation(uint256 chainid, address dapp, string location);\\n}\\n\",\"keccak256\":\"0xa69314dd063d2dd44de12700fa4c6a355bea81a6abb6067737f30d2042bbedc7\",\"license\":\"Apache-2.0\"}},\"version\":1}",
  "bytecode": "0x60a06040523480156200001157600080fd5b506040516200181d3803806200181d833981810160405281019062000037919062000287565b808073ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff1681525050506200009f7f7b765e0e932d348852a6f810bfa1ab891e259123f02db8cdcde614c57022335733620000a660201b60201c565b50620002b9565b620000b882826200019760201b60201c565b6200019357600160008084815260200190815260200160002060000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550620001386200020160201b60201c565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45b5050565b600080600084815260200190815260200160002060000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b600033905090565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006200023b826200020e565b9050919050565b60006200024f826200022e565b9050919050565b620002618162000242565b81146200026d57600080fd5b50565b600081519050620002818162000256565b92915050565b600060208284031215620002a0576200029f62000209565b5b6000620002b08482850162000270565b91505092915050565b608051611548620002d5600039600061047601526115486000f3fe608060405234801561001057600080fd5b50600436106100a95760003560e01c8063656cb0bc11610071578063656cb0bc1461016457806391d1485414610180578063a217fddf146101b0578063ac05d74e146101ce578063d547741f146101fe578063dd0b281e1461021a576100a9565b806301ffc9a7146100ae578063092c5b3b146100de578063248a9ca3146100fc5780632f2ff15d1461012c57806336568abe14610148575b600080fd5b6100c860048036038101906100c39190610ba8565b610236565b6040516100d59190610bf0565b60405180910390f35b6100e66102b0565b6040516100f39190610c24565b60405180910390f35b61011660048036038101906101119190610c6b565b6102d4565b6040516101239190610c24565b60405180910390f35b61014660048036038101906101419190610cf6565b6102f3565b005b610162600480360381019061015d9190610cf6565b610314565b005b61017e60048036038101906101799190610d36565b610397565b005b61019a60048036038101906101959190610cf6565b610400565b6040516101a79190610bf0565b60405180910390f35b6101b861046a565b6040516101c59190610c24565b60405180910390f35b6101e860048036038101906101e39190610ee7565b610471565b6040516101f59190610fc9565b60405180910390f35b61021860048036038101906102139190610cf6565b61055d565b005b610234600480360381019061022f9190610d36565b61057e565b005b60007f7965db0b000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614806102a957506102a882610607565b5b9050919050565b7f7b765e0e932d348852a6f810bfa1ab891e259123f02db8cdcde614c57022335781565b6000806000838152602001908152602001600020600101549050919050565b6102fc826102d4565b61030581610671565b61030f8383610685565b505050565b61031c610765565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614610389576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161038090611067565b60405180910390fd5b610393828261076d565b5050565b7f7b765e0e932d348852a6f810bfa1ab891e259123f02db8cdcde614c5702233576103c181610671565b7f2278f65217b2a95d05d7afbb41d6e9185fb14c5d1ec40970c2d181dfa271b19f4683426040516103f4939291906110af565b60405180910390a15050565b600080600084815260200190815260200160002060000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b6000801b81565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633648bfb58787876040518463ffffffff1660e01b81526004016104d193929190611119565b6020604051808303816000875af11580156104f0573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061051491906111a0565b90507f7e7d1c2db5b65d67543d3346f37185a99c65f772c390e848ec106b061561a1014682856040516105499392919061123b565b60405180910390a180915050949350505050565b610566826102d4565b61056f81610671565b610579838361076d565b505050565b7f7b765e0e932d348852a6f810bfa1ab891e259123f02db8cdcde614c5702233576105a881610671565b7f2278f65217b2a95d05d7afbb41d6e9185fb14c5d1ec40970c2d181dfa271b19f46837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6040516105fb939291906110af565b60405180910390a15050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b6106828161067d610765565b61084e565b50565b61068f8282610400565b61076157600160008084815260200190815260200160002060000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550610706610765565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45b5050565b600033905090565b6107778282610400565b1561084a57600080600084815260200190815260200160002060000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055506107ef610765565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16837ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b60405160405180910390a45b5050565b6108588282610400565b6108cf57610865816108d3565b6108738360001c6020610900565b60405160200161088492919061134d565b6040516020818303038152906040526040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108c69190611387565b60405180910390fd5b5050565b60606108f98273ffffffffffffffffffffffffffffffffffffffff16601460ff16610900565b9050919050565b60606000600283600261091391906113d8565b61091d919061141a565b67ffffffffffffffff81111561093657610935610dbc565b5b6040519080825280601f01601f1916602001820160405280156109685781602001600182028036833780820191505090505b5090507f3000000000000000000000000000000000000000000000000000000000000000816000815181106109a05761099f61144e565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053507f780000000000000000000000000000000000000000000000000000000000000081600181518110610a0457610a0361144e565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535060006001846002610a4491906113d8565b610a4e919061141a565b90505b6001811115610aee577f3031323334353637383961626364656600000000000000000000000000000000600f861660108110610a9057610a8f61144e565b5b1a60f81b828281518110610aa757610aa661144e565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600485901c945080610ae79061147d565b9050610a51565b5060008414610b32576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b29906114f2565b60405180910390fd5b8091505092915050565b6000604051905090565b600080fd5b600080fd5b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b610b8581610b50565b8114610b9057600080fd5b50565b600081359050610ba281610b7c565b92915050565b600060208284031215610bbe57610bbd610b46565b5b6000610bcc84828501610b93565b91505092915050565b60008115159050919050565b610bea81610bd5565b82525050565b6000602082019050610c056000830184610be1565b92915050565b6000819050919050565b610c1e81610c0b565b82525050565b6000602082019050610c396000830184610c15565b92915050565b610c4881610c0b565b8114610c5357600080fd5b50565b600081359050610c6581610c3f565b92915050565b600060208284031215610c8157610c80610b46565b5b6000610c8f84828501610c56565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610cc382610c98565b9050919050565b610cd381610cb8565b8114610cde57600080fd5b50565b600081359050610cf081610cca565b92915050565b60008060408385031215610d0d57610d0c610b46565b5b6000610d1b85828601610c56565b9250506020610d2c85828601610ce1565b9150509250929050565b600060208284031215610d4c57610d4b610b46565b5b6000610d5a84828501610ce1565b91505092915050565b6000610d6e82610cb8565b9050919050565b610d7e81610d63565b8114610d8957600080fd5b50565b600081359050610d9b81610d75565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610df482610dab565b810181811067ffffffffffffffff82111715610e1357610e12610dbc565b5b80604052505050565b6000610e26610b3c565b9050610e328282610deb565b919050565b600067ffffffffffffffff821115610e5257610e51610dbc565b5b610e5b82610dab565b9050602081019050919050565b82818337600083830152505050565b6000610e8a610e8584610e37565b610e1c565b905082815260208101848484011115610ea657610ea5610da6565b5b610eb1848285610e68565b509392505050565b600082601f830112610ece57610ecd610da1565b5b8135610ede848260208601610e77565b91505092915050565b60008060008060808587031215610f0157610f00610b46565b5b6000610f0f87828801610d8c565b9450506020610f2087828801610ce1565b9350506040610f3187828801610c56565b925050606085013567ffffffffffffffff811115610f5257610f51610b4b565b5b610f5e87828801610eb9565b91505092959194509250565b6000819050919050565b6000610f8f610f8a610f8584610c98565b610f6a565b610c98565b9050919050565b6000610fa182610f74565b9050919050565b6000610fb382610f96565b9050919050565b610fc381610fa8565b82525050565b6000602082019050610fde6000830184610fba565b92915050565b600082825260208201905092915050565b7f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560008201527f20726f6c657320666f722073656c660000000000000000000000000000000000602082015250565b6000611051602f83610fe4565b915061105c82610ff5565b604082019050919050565b6000602082019050818103600083015261108081611044565b9050919050565b6000819050919050565b61109a81611087565b82525050565b6110a981610cb8565b82525050565b60006060820190506110c46000830186611091565b6110d160208301856110a0565b6110de6040830184611091565b949350505050565b60006110f182610f74565b9050919050565b6000611103826110e6565b9050919050565b611113816110f8565b82525050565b600060608201905061112e600083018661110a565b61113b60208301856110a0565b6111486040830184610c15565b949350505050565b600061115b82610c98565b9050919050565b600061116d82611150565b9050919050565b61117d81611162565b811461118857600080fd5b50565b60008151905061119a81611174565b92915050565b6000602082840312156111b6576111b5610b46565b5b60006111c48482850161118b565b91505092915050565b600081519050919050565b60005b838110156111f65780820151818401526020810190506111db565b60008484015250505050565b600061120d826111cd565b6112178185610fe4565b93506112278185602086016111d8565b61123081610dab565b840191505092915050565b60006060820190506112506000830186611091565b61125d60208301856110a0565b818103604083015261126f8184611202565b9050949350505050565b600081905092915050565b7f416363657373436f6e74726f6c3a206163636f756e7420000000000000000000600082015250565b60006112ba601783611279565b91506112c582611284565b601782019050919050565b60006112db826111cd565b6112e58185611279565b93506112f58185602086016111d8565b80840191505092915050565b7f206973206d697373696e6720726f6c6520000000000000000000000000000000600082015250565b6000611337601183611279565b915061134282611301565b601182019050919050565b6000611358826112ad565b915061136482856112d0565b915061136f8261132a565b915061137b82846112d0565b91508190509392505050565b600060208201905081810360008301526113a18184611202565b905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006113e382611087565b91506113ee83611087565b92508282026113fc81611087565b91508282048414831517611413576114126113a9565b5b5092915050565b600061142582611087565b915061143083611087565b9250828201905080821115611448576114476113a9565b5b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600061148882611087565b91506000820361149b5761149a6113a9565b5b600182039050919050565b7f537472696e67733a20686578206c656e67746820696e73756666696369656e74600082015250565b60006114dc602083610fe4565b91506114e7826114a6565b602082019050919050565b6000602082019050818103600083015261150b816114cf565b905091905056fea2646970667358221220dd27470c936bf89779fddf35bf72084eb8343e3c203057ec73faf2bc20e6745b64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100a95760003560e01c8063656cb0bc11610071578063656cb0bc1461016457806391d1485414610180578063a217fddf146101b0578063ac05d74e146101ce578063d547741f146101fe578063dd0b281e1461021a576100a9565b806301ffc9a7146100ae578063092c5b3b146100de578063248a9ca3146100fc5780632f2ff15d1461012c57806336568abe14610148575b600080fd5b6100c860048036038101906100c39190610ba8565b610236565b6040516100d59190610bf0565b60405180910390f35b6100e66102b0565b6040516100f39190610c24565b60405180910390f35b61011660048036038101906101119190610c6b565b6102d4565b6040516101239190610c24565b60405180910390f35b61014660048036038101906101419190610cf6565b6102f3565b005b610162600480360381019061015d9190610cf6565b610314565b005b61017e60048036038101906101799190610d36565b610397565b005b61019a60048036038101906101959190610cf6565b610400565b6040516101a79190610bf0565b60405180910390f35b6101b861046a565b6040516101c59190610c24565b60405180910390f35b6101e860048036038101906101e39190610ee7565b610471565b6040516101f59190610fc9565b60405180910390f35b61021860048036038101906102139190610cf6565b61055d565b005b610234600480360381019061022f9190610d36565b61057e565b005b60007f7965db0b000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614806102a957506102a882610607565b5b9050919050565b7f7b765e0e932d348852a6f810bfa1ab891e259123f02db8cdcde614c57022335781565b6000806000838152602001908152602001600020600101549050919050565b6102fc826102d4565b61030581610671565b61030f8383610685565b505050565b61031c610765565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614610389576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161038090611067565b60405180910390fd5b610393828261076d565b5050565b7f7b765e0e932d348852a6f810bfa1ab891e259123f02db8cdcde614c5702233576103c181610671565b7f2278f65217b2a95d05d7afbb41d6e9185fb14c5d1ec40970c2d181dfa271b19f4683426040516103f4939291906110af565b60405180910390a15050565b600080600084815260200190815260200160002060000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b6000801b81565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16633648bfb58787876040518463ffffffff1660e01b81526004016104d193929190611119565b6020604051808303816000875af11580156104f0573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061051491906111a0565b90507f7e7d1c2db5b65d67543d3346f37185a99c65f772c390e848ec106b061561a1014682856040516105499392919061123b565b60405180910390a180915050949350505050565b610566826102d4565b61056f81610671565b610579838361076d565b505050565b7f7b765e0e932d348852a6f810bfa1ab891e259123f02db8cdcde614c5702233576105a881610671565b7f2278f65217b2a95d05d7afbb41d6e9185fb14c5d1ec40970c2d181dfa271b19f46837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6040516105fb939291906110af565b60405180910390a15050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b6106828161067d610765565b61084e565b50565b61068f8282610400565b61076157600160008084815260200190815260200160002060000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550610706610765565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45b5050565b600033905090565b6107778282610400565b1561084a57600080600084815260200190815260200160002060000160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055506107ef610765565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16837ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b60405160405180910390a45b5050565b6108588282610400565b6108cf57610865816108d3565b6108738360001c6020610900565b60405160200161088492919061134d565b6040516020818303038152906040526040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108c69190611387565b60405180910390fd5b5050565b60606108f98273ffffffffffffffffffffffffffffffffffffffff16601460ff16610900565b9050919050565b60606000600283600261091391906113d8565b61091d919061141a565b67ffffffffffffffff81111561093657610935610dbc565b5b6040519080825280601f01601f1916602001820160405280156109685781602001600182028036833780820191505090505b5090507f3000000000000000000000000000000000000000000000000000000000000000816000815181106109a05761099f61144e565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053507f780000000000000000000000000000000000000000000000000000000000000081600181518110610a0457610a0361144e565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a90535060006001846002610a4491906113d8565b610a4e919061141a565b90505b6001811115610aee577f3031323334353637383961626364656600000000000000000000000000000000600f861660108110610a9057610a8f61144e565b5b1a60f81b828281518110610aa757610aa661144e565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600485901c945080610ae79061147d565b9050610a51565b5060008414610b32576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b29906114f2565b60405180910390fd5b8091505092915050565b6000604051905090565b600080fd5b600080fd5b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b610b8581610b50565b8114610b9057600080fd5b50565b600081359050610ba281610b7c565b92915050565b600060208284031215610bbe57610bbd610b46565b5b6000610bcc84828501610b93565b91505092915050565b60008115159050919050565b610bea81610bd5565b82525050565b6000602082019050610c056000830184610be1565b92915050565b6000819050919050565b610c1e81610c0b565b82525050565b6000602082019050610c396000830184610c15565b92915050565b610c4881610c0b565b8114610c5357600080fd5b50565b600081359050610c6581610c3f565b92915050565b600060208284031215610c8157610c80610b46565b5b6000610c8f84828501610c56565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610cc382610c98565b9050919050565b610cd381610cb8565b8114610cde57600080fd5b50565b600081359050610cf081610cca565b92915050565b60008060408385031215610d0d57610d0c610b46565b5b6000610d1b85828601610c56565b9250506020610d2c85828601610ce1565b9150509250929050565b600060208284031215610d4c57610d4b610b46565b5b6000610d5a84828501610ce1565b91505092915050565b6000610d6e82610cb8565b9050919050565b610d7e81610d63565b8114610d8957600080fd5b50565b600081359050610d9b81610d75565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b610df482610dab565b810181811067ffffffffffffffff82111715610e1357610e12610dbc565b5b80604052505050565b6000610e26610b3c565b9050610e328282610deb565b919050565b600067ffffffffffffffff821115610e5257610e51610dbc565b5b610e5b82610dab565b9050602081019050919050565b82818337600083830152505050565b6000610e8a610e8584610e37565b610e1c565b905082815260208101848484011115610ea657610ea5610da6565b5b610eb1848285610e68565b509392505050565b600082601f830112610ece57610ecd610da1565b5b8135610ede848260208601610e77565b91505092915050565b60008060008060808587031215610f0157610f00610b46565b5b6000610f0f87828801610d8c565b9450506020610f2087828801610ce1565b9350506040610f3187828801610c56565b925050606085013567ffffffffffffffff811115610f5257610f51610b4b565b5b610f5e87828801610eb9565b91505092959194509250565b6000819050919050565b6000610f8f610f8a610f8584610c98565b610f6a565b610c98565b9050919050565b6000610fa182610f74565b9050919050565b6000610fb382610f96565b9050919050565b610fc381610fa8565b82525050565b6000602082019050610fde6000830184610fba565b92915050565b600082825260208201905092915050565b7f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560008201527f20726f6c657320666f722073656c660000000000000000000000000000000000602082015250565b6000611051602f83610fe4565b915061105c82610ff5565b604082019050919050565b6000602082019050818103600083015261108081611044565b9050919050565b6000819050919050565b61109a81611087565b82525050565b6110a981610cb8565b82525050565b60006060820190506110c46000830186611091565b6110d160208301856110a0565b6110de6040830184611091565b949350505050565b60006110f182610f74565b9050919050565b6000611103826110e6565b9050919050565b611113816110f8565b82525050565b600060608201905061112e600083018661110a565b61113b60208301856110a0565b6111486040830184610c15565b949350505050565b600061115b82610c98565b9050919050565b600061116d82611150565b9050919050565b61117d81611162565b811461118857600080fd5b50565b60008151905061119a81611174565b92915050565b6000602082840312156111b6576111b5610b46565b5b60006111c48482850161118b565b91505092915050565b600081519050919050565b60005b838110156111f65780820151818401526020810190506111db565b60008484015250505050565b600061120d826111cd565b6112178185610fe4565b93506112278185602086016111d8565b61123081610dab565b840191505092915050565b60006060820190506112506000830186611091565b61125d60208301856110a0565b818103604083015261126f8184611202565b9050949350505050565b600081905092915050565b7f416363657373436f6e74726f6c3a206163636f756e7420000000000000000000600082015250565b60006112ba601783611279565b91506112c582611284565b601782019050919050565b60006112db826111cd565b6112e58185611279565b93506112f58185602086016111d8565b80840191505092915050565b7f206973206d697373696e6720726f6c6520000000000000000000000000000000600082015250565b6000611337601183611279565b915061134282611301565b601182019050919050565b6000611358826112ad565b915061136482856112d0565b915061136f8261132a565b915061137b82846112d0565b91508190509392505050565b600060208201905081810360008301526113a18184611202565b905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006113e382611087565b91506113ee83611087565b92508282026113fc81611087565b91508282048414831517611413576114126113a9565b5b5092915050565b600061142582611087565b915061143083611087565b9250828201905080821115611448576114476113a9565b5b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600061148882611087565b91506000820361149b5761149a6113a9565b5b600182039050919050565b7f537472696e67733a20686578206c656e67746820696e73756666696369656e74600082015250565b60006114dc602083610fe4565b91506114e7826114a6565b602082019050919050565b6000602082019050818103600083015261150b816114cf565b905091905056fea2646970667358221220dd27470c936bf89779fddf35bf72084eb8343e3c203057ec73faf2bc20e6745b64736f6c63430008140033",
  "devdoc": {
    "details": "This can be used for test scenarios, where you can manuall start and stop the validator by sending a transaction.",
    "events": {
      "FinancialRunway(uint256,address,uint256)": {
        "details": "This event signals until when the validator node for the dapp should be running. The offchain implementation which controls the execution of validator nodes is free to choose which implementation contracts they will rely on for this information. The dapp can be deployed on a different network than the one this event is emitted on.",
        "params": {
          "chainid": "The chainid of the network the dapp is deployed",
          "dapp": "The dapp address",
          "until": "The point in time when the dapp will run out of funds (seconds since epoch)"
        }
      },
      "MachineLocation(uint256,address,string)": {
        "details": "This event signals the association of an onchain deployed Cartesi DApp to the offchain location of the snapshot of the Cartesi machine corresponding to the template hash stored onchain. The format or protocol of the location field is not enforced onchain and can follow any format, like a URL or an IPFS CID. The dapp can be deployed on a different network than the one this event is emitted on.",
        "params": {
          "chainid": "The chainid of the network the dapp is deployed",
          "dapp": "The dapp address",
          "location": "The storage location of the cartesi machine snapshot"
        }
      },
      "RoleAdminChanged(bytes32,bytes32,bytes32)": {
        "details": "Emitted when `newAdminRole` is set as ``role``'s admin role, replacing `previousAdminRole` `DEFAULT_ADMIN_ROLE` is the starting admin for all roles, despite {RoleAdminChanged} not being emitted signaling this. _Available since v3.1._"
      },
      "RoleGranted(bytes32,address,address)": {
        "details": "Emitted when `account` is granted `role`. `sender` is the account that originated the contract call, an admin role bearer except when using {AccessControl-_setupRole}."
      },
      "RoleRevoked(bytes32,address,address)": {
        "details": "Emitted when `account` is revoked `role`. `sender` is the account that originated the contract call:   - if using `revokeRole`, it is the admin role bearer   - if using `renounceRole`, it is the role bearer (i.e. `account`)"
      }
    },
    "kind": "dev",
    "methods": {
      "getRoleAdmin(bytes32)": {
        "details": "Returns the admin role that controls `role`. See {grantRole} and {revokeRole}. To change a role's admin, use {_setRoleAdmin}."
      },
      "grantRole(bytes32,address)": {
        "details": "Grants `role` to `account`. If `account` had not been already granted `role`, emits a {RoleGranted} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleGranted} event."
      },
      "hasRole(bytes32,address)": {
        "details": "Returns `true` if `account` has been granted `role`."
      },
      "newApplication(address,address,bytes32,string)": {
        "details": "This function delegates the construction of the dapp to a ICartesiDAppFactory, and emits an event with the IPFS CID of the snapshot of the corresponding machine. There is no validation onchain that the machine stored at IPFS matches the specified templateHash. This information will only be verified offchain when the dapp node start executing",
        "params": {
          "_cid": "The IPFS CID of the cartesi machine snapshot",
          "_consensus": "The consensus to which the DApp should be subscribed",
          "_dappOwner": "The address that should own the DApp",
          "_templateHash": "The hash of the initial state of the Cartesi Machine"
        },
        "returns": {
          "_0": "The application"
        }
      },
      "renounceRole(bytes32,address)": {
        "details": "Revokes `role` from the calling account. Roles are often managed via {grantRole} and {revokeRole}: this function's purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced). If the calling account had been revoked `role`, emits a {RoleRevoked} event. Requirements: - the caller must be `account`. May emit a {RoleRevoked} event."
      },
      "revokeRole(bytes32,address)": {
        "details": "Revokes `role` from `account`. If `account` had been granted `role`, emits a {RoleRevoked} event. Requirements: - the caller must have ``role``'s admin role. May emit a {RoleRevoked} event."
      },
      "supportsInterface(bytes4)": {
        "details": "See {IERC165-supportsInterface}."
      }
    },
    "version": 1
  },
  "userdoc": {
    "events": {
      "FinancialRunway(uint256,address,uint256)": {
        "notice": "Signals until when a dapp has enough funds to be validated"
      },
      "MachineLocation(uint256,address,string)": {
        "notice": "Signals the association of a dapp to its offchain Cartesi Machine"
      }
    },
    "kind": "user",
    "methods": {
      "CONTROLLER_ROLE()": {
        "notice": "Create a new role identifier for the controller role, they can start/stop dapps"
      },
      "newApplication(address,address,bytes32,string)": {
        "notice": "Instantiate a new dapp, including the IPFS CID information for the cartesi machine snapshot"
      }
    },
    "notice": "This dapp factory implements the IFinancialProtocol with total control over the execution of the validator.",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 2695,
        "contract": "contracts/deploy/ControlledDAppFactory.sol:ControlledDAppFactory",
        "label": "_roles",
        "offset": 0,
        "slot": "0",
        "type": "t_mapping(t_bytes32,t_struct(RoleData)2690_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_bytes32,t_struct(RoleData)2690_storage)": {
        "encoding": "mapping",
        "key": "t_bytes32",
        "label": "mapping(bytes32 => struct AccessControl.RoleData)",
        "numberOfBytes": "32",
        "value": "t_struct(RoleData)2690_storage"
      },
      "t_struct(RoleData)2690_storage": {
        "encoding": "inplace",
        "label": "struct AccessControl.RoleData",
        "members": [
          {
            "astId": 2687,
            "contract": "contracts/deploy/ControlledDAppFactory.sol:ControlledDAppFactory",
            "label": "members",
            "offset": 0,
            "slot": "0",
            "type": "t_mapping(t_address,t_bool)"
          },
          {
            "astId": 2689,
            "contract": "contracts/deploy/ControlledDAppFactory.sol:ControlledDAppFactory",
            "label": "adminRole",
            "offset": 0,
            "slot": "1",
            "type": "t_bytes32"
          }
        ],
        "numberOfBytes": "64"
      }
    }
  }
}